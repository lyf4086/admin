webpackJsonp([13],{"40uN":function(e,t){},"9IIH":function(e,t){},Af4Z:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("mvHQ"),s=i.n(a),n=i("Dd8w"),o=i.n(n),c=i("i2h9"),r={props:["list","isRemoving","activeYeMa","activeTreeId","sync","roles"],data:function(){return{changeShow:!1,xiangqing:!1,changing:"",activeData:"",pwd1:"",pwd2:"",active_item:"",fc:!1}},computed:{},methods:{juese:function(e){return"1"==e?"系统管理员":"2"==e?"枪支管理员":"3"==e?"用枪员":"4"==e?"领导":void 0},lookxiangqing:function(e){this.$store.commit("setPoliceId",{policeuser_id:e.policeuser_id,yeMa:this.activeYeMa,jiGouId:this.activeTreeId}),this.$router.push({name:"PersonMessage"})},cl1:function(e){e.target.parentNode.classList.add("selected")},bl1:function(e){e.target.parentNode.classList.remove("selected")},cl2:function(e){e.target.parentNode.classList.add("selected")},bl2:function(e){e.target.parentNode.classList.remove("selected")},cl3:function(e){e.target.parentNode.classList.add("selected")},bl3:function(e){e.target.parentNode.classList.remove("selected")},deleteMsg:function(){this.xiangqing=!1},changeTime:function(e){var t=new Date(1e3*e);return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+(t.getDate()+" ")+(t.getHours()+":")+(t.getMinutes()+":")+t.getSeconds()},changeperson:function(e){var t=this;this.list[e].put1show=!0,this.$nextTick(function(){t.$refs.put1[e].focus()})},setjuese:function(e){var t=this;this.list[e].put2show=!0,this.$nextTick(function(){t.$refs.put2[e].focus()})},setmima:function(e){this.changeShow=!0,this.changing=e.policeuser_name,this.activeData=e},put1blur:function(e){var t=this;this.list[e].put1show=!1;var i=this.$gscookie.getCookie("gun"),a={uname:this.list[e].policeuser_name,role_id:this.list[e].role_id,policeuser_id:this.list[e].policeuser_id,mobile:this.list[e].mobile,sex:this.list[e].sex,mechanism_id:this.list[e].mechanism_id,police_number:this.list[e].police_number},s=this.$store.state.key,n=this.$methods.mkSign(a,s),o=new URLSearchParams;o.append("uname",a.uname),o.append("role_id",a.role_id),o.append("policeuser_id",a.policeuser_id),o.append("mobile",a.mobile),o.append("sex",a.sex),o.append("mechanism_id",a.mechanism_id),o.append("police_number",a.police_number),o.append("sign",n),o.append("token",i),this.$axios({url:this.$store.state.baseURL+"/weixin/project/index.php?m=home&c=policeuser&a=rewrite",method:"POST",changeOrigin:!0,data:o}).then(function(e){"200"==e.data.code&&t.$message({message:"修改成功",type:"success"})}).catch(function(e){console.log(e)})},put2blur:function(e){var t=this;this.list[e].put2show=!1;var i=this.$gscookie.getCookie("gun"),a={uname:this.list[e].policeuser_name,role_id:this.list[e].role_id,policeuser_id:this.list[e].policeuser_id,mobile:this.list[e].mobile,sex:this.list[e].sex,mechanism_id:this.list[e].mechanism_id,police_number:this.list[e].police_number},s=this.$store.state.key,n=this.$methods.mkSign(a,s),o=new URLSearchParams;o.append("uname",a.uname),o.append("role_id",a.role_id),o.append("policeuser_id",a.policeuser_id),o.append("mobile",a.mobile),o.append("sex",a.sex),o.append("mechanism_id",a.mechanism_id),o.append("police_number",a.police_number),o.append("sign",n),o.append("token",i),this.$axios({url:this.$store.state.baseURL+"/weixin/project/index.php?m=home&c=policeuser&a=rewrite",method:"POST",changeOrigin:!0,data:o}).then(function(e){"200"==e.data.code&&(t.$emit("shuaxin"),t.$message({type:"success",message:"修改角色成功"}))}).catch(function(e){console.log(e)})},leftChange:function(e){var t=this;this.$confirm("将要更改状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.changeradiu1(e)}).catch(function(){})},rightChange:function(e){var t=this;this.$confirm("将要更改状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.changeradiu2(e)}).catch(function(){})},changeradiu1:function(e){var t=this;this.list[e].ishow=1;var i=this.$gscookie.getCookie("gun"),a={uname:this.list[e].policeuser_name,role_id:this.list[e].role_id,policeuser_id:this.list[e].policeuser_id,mobile:this.list[e].mobile,sex:this.list[e].sex,mechanism_id:this.list[e].mechanism_id,police_number:this.list[e].police_number,ishow:this.list[e].ishow},s=this.$store.state.key,n=this.$methods.mkSign(a,s),o=new URLSearchParams;o.append("uname",a.uname),o.append("role_id",a.role_id),o.append("policeuser_id",a.policeuser_id),o.append("mobile",a.mobile),o.append("sex",a.sex),o.append("mechanism_id",a.mechanism_id),o.append("police_number",a.police_number),o.append("ishow",a.ishow),o.append("sign",n),o.append("token",i),this.$axios({url:this.$store.state.baseURL+"/weixin/project/index.php?m=home&c=policeuser&a=rewrite",method:"POST",changeOrigin:!0,data:o}).then(function(e){200==e.data.code&&t.$message({message:"修改状态成功",type:"success"})}).catch(function(e){console.log(e)})},changeradiu2:function(e){var t=this;this.list[e].ishow=0;var i=this.$gscookie.getCookie("gun"),a={uname:this.list[e].policeuser_name,role_id:this.list[e].role_id,policeuser_id:this.list[e].policeuser_id,mobile:this.list[e].mobile,sex:this.list[e].sex,mechanism_id:this.list[e].mechanism_id,police_number:this.list[e].police_number,ishow:this.list[e].ishow},s=this.$store.state.key,n=this.$methods.mkSign(a,s),o=new URLSearchParams;o.append("uname",a.uname),o.append("role_id",a.role_id),o.append("policeuser_id",a.policeuser_id),o.append("mobile",a.mobile),o.append("sex",a.sex),o.append("mechanism_id",a.mechanism_id),o.append("police_number",a.police_number),o.append("ishow",a.ishow),o.append("sign",n),o.append("token",i),this.$axios({url:this.$store.state.baseURL+"/weixin/project/index.php?m=home&c=policeuser&a=rewrite",method:"POST",changeOrigin:!0,data:o}).then(function(e){200==e.data.code&&t.$message({message:"修改状态成功",type:"success"})}).catch(function(e){console.log(e)})},quxiao:function(){this.changeShow=!1,this.pwd1=this.pwd2=""},delClick:function(e){this.$emit("delThis",e)},submitToChangePassWord:function(){var e=this;if(this.pwd1==this.pwd2){var t=this.$gscookie.getCookie("gun"),i={uname:this.activeData.policeuser_name,role_id:this.activeData.role_id,policeuser_id:this.activeData.policeuser_id,mobile:this.activeData.mobile,sex:this.activeData.sex,mechanism_id:this.activeData.mechanism_id,police_number:this.activeData.police_number,pwd:this.pwd1},a=this.$store.state.key,s=this.$methods.mkSign(i,a),n=new URLSearchParams;n.append("uname",i.uname),n.append("role_id",i.role_id),n.append("policeuser_id",i.policeuser_id),n.append("mobile",i.mobile),n.append("sex",i.sex),n.append("mechanism_id",i.mechanism_id),n.append("police_number",i.police_number),n.append("pwd",i.pwd),n.append("sign",s),n.append("token",t),this.$axios({url:this.$store.state.baseURL+"/weixin/project/index.php?m=home&c=policeuser&a=rewrite",method:"POST",changeOrigin:!0,data:n}).then(function(t){"200"==t.data.code&&(e.changeShow=!1,e.pwd1=e.pwd2="",e.$message({message:"设置初始面成功",type:"success"})),"400"==t.data.code&&e.$message({message:"设置密码失败，"+t.data.msg,type:"error"})}).catch(function(e){console.log(e)})}else this.$message({type:"error",message:"两次密码不一样"})}},created:function(){},mounted:function(){var e=this,t=this;this.$nextTick(function(){e.$refs.renyuan.addEventListener("click",function(e){"del-one"!=e.target.className&&t.$emit("quxiaoshanchu")})})}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"renyuan",staticClass:"renyuan"},[e.list.length?e._e():a("div",{staticClass:"none-data"},[e._v("暂无时没有数据......")]),e._v(" "),e._l(e.list,function(t,s){return a("div",{key:s,staticClass:"item",class:{dou:e.isRemoving}},[a("div",{staticClass:"text"},[a("p",[e._v("用户名：")]),e._v(" "),a("p",{staticClass:"put-wrap"},[a("span",[e._v(e._s(t.policeuser_name))]),e._v(" "),a("input",{directives:[{name:"show",rawName:"v-show",value:t.put1show,expression:"item.put1show"},{name:"model",rawName:"v-model",value:t.policeuser_name,expression:"item.policeuser_name"}],ref:"put1",refInFor:!0,attrs:{type:"text"},domProps:{value:t.policeuser_name},on:{blur:function(t){e.put1blur(s)},keydown:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.put1blur(s)},input:function(i){i.target.composing||e.$set(t,"policeuser_name",i.target.value)}}})]),e._v(" "),a("p",[e._v("角色名：")]),e._v(" "),a("p",{staticClass:"put-wrap select-wrap"},[a("span",[e._v(e._s(t.role_name))]),e._v(" "),a("select",{directives:[{name:"show",rawName:"v-show",value:t.put2show,expression:"item.put2show"},{name:"model",rawName:"v-model",value:t.role_id,expression:"item.role_id"}],ref:"put2",refInFor:!0,attrs:{selected:"true"},on:{blur:function(t){e.put2blur(s)},change:function(i){var a=Array.prototype.filter.call(i.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(t,"role_id",i.target.multiple?a:a[0])}}},e._l(e.roles,function(t,i){return a("option",{key:i,domProps:{value:t.id}},[e._v(e._s(t.name))])}))]),e._v(" "),a("p",[e._v("创建时间：")]),e._v(" "),a("p",{staticClass:"put-wrap"},[a("span",[e._v(e._s(e.changeTime(t.created)))]),e._v(" "),a("input",{directives:[{name:"show",rawName:"v-show",value:t.put3show,expression:"item.put3show"},{name:"model",rawName:"v-model",value:t.created,expression:"item.created"}],ref:"put3",refInFor:!0,attrs:{type:"text"},domProps:{value:t.created},on:{input:function(i){i.target.composing||e.$set(t,"created",i.target.value)}}})]),e._v(" "),a("p",[e._v("状态：")]),e._v(" "),a("p",[a("span",{staticClass:"qy",on:{click:function(t){e.leftChange(s)}}},[e._v("启用")]),e._v(" "),a("i",{class:{active:1==t.ishow},on:{click:function(t){e.leftChange(s)}}}),e._v(" "),a("span",{staticClass:"jy",on:{click:function(t){e.rightChange(s)}}},[e._v("禁用")]),e._v(" "),a("i",{class:{active:0==t.ishow},on:{click:function(t){e.rightChange(s)}}})])]),e._v(" "),a("div",{staticClass:"headpic"},[t.icon?a("img",{attrs:{src:t.icon,alt:"no pic"}}):a("img",{attrs:{src:i("NIoa"),alt:"no pic"}})]),e._v(" "),a("button",{staticClass:"xiangqing",on:{click:function(i){e.lookxiangqing(t)}}},[e._v("查看详情")]),e._v(" "),a("div",{staticClass:"btns"},[1!=e.sync?a("span",{on:{click:function(t){e.changeperson(s)}}},[e._v("修改人员")]):e._e(),e._v(" "),a("span",{on:{click:function(t){e.setjuese(s)}}},[e._v("设置角色")]),e._v(" "),a("span",{on:{click:function(i){e.setmima(t)}}},[e._v("设置初始密码")])]),e._v(" "),a("button",{staticClass:"del-one",on:{click:function(i){e.delClick(t)}}},[e._v("X")])])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.changeShow||e.xiangqing,expression:"changeShow||xiangqing"}],staticClass:"zhezhao"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.changeShow,expression:"changeShow"}],staticClass:"changepsd"},[a("i",[e._v("用户："+e._s(e.changing)+" 设置初始密码")]),e._v(" "),a("div",{staticClass:"putwrap"},[a("span",[e._v("新 密 码：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pwd1,expression:"pwd1"}],staticClass:"pass1",attrs:{type:"password",placeholder:"新密码"},domProps:{value:e.pwd1},on:{input:function(t){t.target.composing||(e.pwd1=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"putwrap"},[a("span",[e._v("确认密码：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pwd2,expression:"pwd2"}],staticClass:"pass1",attrs:{type:"password",placeholder:"再次确认新密码"},domProps:{value:e.pwd2},on:{input:function(t){t.target.composing||(e.pwd2=t.target.value)}}})]),e._v(" "),a("p",[a("button",{on:{click:e.submitToChangePassWord}},[e._v("确认")]),e._v(" "),a("button",{on:{click:e.quxiao}},[e._v("取消")])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.xiangqing,expression:"xiangqing"}],staticClass:"change-msg"},[a("button",{staticClass:"delete",on:{click:e.deleteMsg}},[e._v("X")]),e._v(" "),a("div",{staticClass:"imgwrap"},[e.active_item.icon?a("img",{attrs:{src:e.active_item.icon,alt:""}}):a("img",{attrs:{src:i("NIoa"),alt:""}})]),e._v(" "),a("div",{staticClass:"mes"},[e._m(0),e._v(" "),a("div",{staticClass:"text"},[a("div",{staticClass:"itemwrap"},[a("span",[e._v(e._s(e.active_item.policeuser_name))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.active_item.policeuser_name,expression:"active_item.policeuser_name"}],ref:"put1",staticClass:"put",attrs:{type:"text"},domProps:{value:e.active_item.policeuser_name},on:{blur:e.bl1,input:function(t){t.target.composing||e.$set(e.active_item,"policeuser_name",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"itemwrap"},[a("span",[e._v(e._s(e.active_item.mobile))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.active_item.mobile,expression:"active_item.mobile"}],ref:"put2",staticClass:"put",attrs:{type:"text"},domProps:{value:e.active_item.mobile},on:{blur:e.bl2,input:function(t){t.target.composing||e.$set(e.active_item,"mobile",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"itemwrap"},[a("span",[e._v(e._s(e.active_item.police_number))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.active_item.police_number,expression:"active_item.police_number"}],ref:"put3",staticClass:"put",attrs:{type:"text"},domProps:{value:e.active_item.police_number},on:{blur:e.bl3,input:function(t){t.target.composing||e.$set(e.active_item,"police_number",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"itemwrap"},[a("span",[e._v(e._s(e.active_item.mechanism_name))]),e._v(" "),a("input",{staticClass:"put",attrs:{type:"text"}})])])])])])],2)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("p",[this._v("用户名：")]),this._v(" "),t("p",[this._v("手机号：")]),this._v(" "),t("p",[this._v("警 号：")]),this._v(" "),t("p",[this._v("所属机构：")])])}]};var d=i("VU/8")(r,l,!1,function(e){i("9IIH")},"data-v-7b0a5132",null).exports,p=i("hWqa"),u={components:{LeftNav:c.a,Content:d,breadNav:p.a},data:function(){return{hasData:!1,alert:!1,currentNodeKey:"",activeItem:"",activeTreeId:"",active_yema:"0",treeListData:[],defaultProps:{children:"child",label:"mechanism_name"},itemList:[],addPerson:{uname:"",mobile:"",sex:"",robcode_endtime:"",police_number:"",role_id:""},pageTotal:null,isRemoveimg:!1,selValue:"",putValue:"",showXiangqing:!1,currentPage:0,sync:0,roles:[]}},methods:{shuaxin:function(){var e=this.active_yema||1;this.clickTree(this.activeItem.mechanism_id,e)},quxiaoshanchu:function(){this.isRemoveimg=!1},currentChange:function(e){this.active_yema=e,this.isRemoveimg=!1,this.clickTree(this.activeTreeId,e)},add:function(){this.alert=!0},quxiao:function(){this.alert=!1},subSearch:function(){this.selValue?this.putValue?this.search(1,this.putValue):this.$message({message:"请输入您要搜索的内容",type:"warning"}):this.$message({message:"请选择搜索条件",type:"warning"})},search:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a={p:t,ps:"60"},s=this.$gscookie.getCookie("gun"),n=this.selValue;a[n]=i;var o=this.$store.state.key,c=this.$methods.mkSign(a,o),r=new URLSearchParams;r.append("p",a.p),r.append("ps",a.ps),r.append(n,a[n]),r.append("sign",c),r.append("token",s),this.$axios({url:this.$store.state.baseURL+"/weixin/project/index.php?m=home&c=search&a=policeusers",method:"POST",changeOrigin:!0,data:r}).then(function(t){200==t.data.code&&0!=t.data.data.length&&(e.itemList=t.data.data.list),e.selValue="",e.putValue="",e.pageTotal=null}).catch(function(e){console.log(e)})},getTreeList:function(e,t){var i=this,a=this.$store.state.key,s={p:1,ps:6,mechanism_id:1},n=this.$methods.mkSign(s,a),o=this.$gscookie.getCookie("gun"),c=new URLSearchParams;c.append("p",s.p),c.append("ps",s.ps),c.append("mechanism_id",s.mechanism_id),c.append("sign",n),c.append("token",o),this.$axios({url:this.$store.state.baseURL+"/weixin/project/index.php?m=home&c=mechanism&a=mechanisms_tree",method:"POST",changeOrigin:!0,data:c}).then(function(a){i.treeListData=a.data.data.list,e?i.clickTree(e,t):(i.activeTreeId=a.data.data.list[0].mechanism_id,i.activeItem=a.data.data.list[0],i.clickTree(i.treeListData[0].mechanism_id,1))}).catch(function(e){console.log(e)}),this.hasData=!0},handleNodeClick:function(e){this.$refs.page.internalCurrentPage=1,this.isRemoveimg=!1,this.active_yema=0,this.activeItem=e,this.activeTreeId=e.id,this.clickTree(this.activeItem.mechanism_id,1)},addOnePerson:function(){var e=this;for(var t in this.addPerson)if(""==this.addPerson[t].trim())return void this.$message({type:"warning",message:"有未填选项"});var i=this.$gscookie.getCookie("gun"),a={uname:this.addPerson.uname,mobile:this.addPerson.mobile,sex:this.addPerson.sex,robcode_endtime:this.addPerson.robcode_endtime,police_number:this.addPerson.police_number,role_id:this.addPerson.role_id,mechanism_id:this.activeItem.mechanism_id},s=this.$store.state.key,n=this.$methods.mkSign(a,s),o=new URLSearchParams;o.append("uname",a.uname),o.append("mobile",a.mobile),o.append("sex",a.sex),o.append("robcode_endtime",a.robcode_endtime),o.append("police_number",a.police_number),o.append("role_id",a.role_id),o.append("mechanism_id",a.mechanism_id),o.append("sign",n),o.append("token",i),this.$axios({url:this.$store.state.baseURL+"/weixin/project/index.php?m=home&c=policeuser&a=rewrite",method:"POST",changeOrigin:!0,data:o}).then(function(t){if("200"==t.data.code)for(var i in e.alert=!1,e.clickTree(e.activeItem.mechanism_id,e.active_yema),e.addPerson)e.addPerson[i]=""}).catch(function(e){console.log(e)})},clickTree:function(e,t){var i=this,a=this.$store.state.key,s={mechanism_id:e,p:t,ps:6},n=this.$methods.mkSign(s,a),c=this.$gscookie.getCookie("gun"),r=new URLSearchParams;r.append("p",s.p),r.append("ps",s.ps),r.append("mechanism_id",s.mechanism_id),r.append("sign",n),r.append("token",c),this.$axios({url:this.$store.state.baseURL+"/weixin/project/index.php?m=home&c=policeuser&a=policeusers",method:"POST",changeOrigin:!0,data:r}).then(function(e){i.roles=e.data.roles,i.itemList=e.data.data.list.map(function(e){return o()({},e,{zhuangtai:1,put1show:!1,put2show:!1,put3show:!1})}),i.pageTotal=e.data.data.psum-0}).catch(function(e){console.log(e)})},delOneData:function(){this.itemList.length&&(this.isRemoveimg=!0)},clickOneDataToRemove:function(e){var t=this;this.$confirm("此操作将永久删除该人员, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var i=t.$store.state.key,a={policeuser_id:e.policeuser_id},s=t.$methods.mkSign(a,i),n=t.$gscookie.getCookie("gun"),o=new URLSearchParams;o.append("policeuser_id",a.policeuser_id),o.append("sign",s),o.append("token",n),t.$axios({url:t.$store.state.baseURL+"/weixin/project/index.php?m=home&c=policeuser&a=del",method:"POST",changeOrigin:!0,data:o}).then(function(i){if(200==i.data.code){t.$message({type:"success",message:"已删除"}),t.isRemoveimg=!1;var a=t.itemList.findIndex(function(t){return t.policeuser_id==e.policeuser_id});t.itemList.splice(a,1),t.itemList.length||t.clickTree(t.activeItem.mechanism_id,t.active_yema-1)}}).catch(function(e){console.log(e)})}).catch(function(e){t.isRemoveimg=!1})}},created:function(){this.sync=this.$gscookie.getCookie("sync"),this.currentNodeKey=this.$gscookie.getCookie("mechanism_id");var e=this.$store.state;3==this.$gscookie.getCookie("message_obj").role_id&&this.$router.push({name:"GuiJi"});var t=this.$gscookie.getCookie("gun");"{}"!=s()(t)?e.jiGouId?(this.currentNodeKey=e.jiGouId,this.currentPage=e.yeMa-0,this.activeTreeId=e.jiGouId,this.getTreeList(e.jiGouId,e.yeMa),this.$store.commit("emptyNumber")):this.getTreeList():this.$router.push("/loginput")},mounted:function(){var e=this,t=/^1[34578]\d{9}$/;this.$refs.phoneput.onblur=function(){var i=this.value;t.test(i)||(e.$message("手机号码格式不正确"),this.focus())}}},m={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.hasData?i("div",{staticClass:"jigou"},[i("div",{staticClass:"tree-menu"},[i("h3",[e._v("人员管理")]),e._v(" "),i("div",{staticClass:"nav-wrap"},[i("el-tree",{attrs:{data:e.treeListData,props:e.defaultProps,accordion:"","highlight-current":!0,"node-key":"id","current-node-key":e.currentNodeKey,"default-expand-all":""},on:{"node-click":e.handleNodeClick}})],1)]),e._v(" "),i("div",{staticClass:"top-nav"},[i("div",{staticClass:"bread-wrap"},[i("breadNav",{attrs:{title:"人员管理",next:e.activeItem.mechanism_name}})],1),e._v(" "),i("div",{staticClass:"search-wrap"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.selValue,expression:"selValue"}],staticClass:"sel",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selValue=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("请选择搜索类型")]),e._v(" "),i("option",{attrs:{value:"uname"}},[e._v("警员名称")]),e._v(" "),i("option",{attrs:{value:"robcode"}},[e._v("持枪证号")]),e._v(" "),i("option",{attrs:{value:"police_number"}},[e._v("警号")]),e._v(" "),i("option",{attrs:{value:"id_number"}},[e._v("身份证号")]),e._v(" "),i("option",{attrs:{value:"mobile"}},[e._v("电话号码")])]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.putValue,expression:"putValue"}],staticClass:"textput",attrs:{type:"text",placeholder:"请输入搜索关键字"},domProps:{value:e.putValue},on:{keyup:function(t){return"button"in t||13===t.keyCode?e.subSearch(t):null},input:function(t){t.target.composing||(e.putValue=t.target.value)}}}),e._v(" "),i("button",{staticClass:"sub",on:{click:e.subSearch}})])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.pageTotal,expression:"pageTotal"}],staticClass:"page-index"},[i("el-pagination",{ref:"page",attrs:{"page-size":6,"pager-count":9,"current-page":e.currentPage,layout:"prev, pager, next",total:e.pageTotal},on:{"current-change":e.currentChange}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"message-box"},[i("p",[e._v("当前显示 *** "+e._s(e.activeItem.mechanism_name)+" *** 下的人员信息")])]),e._v(" "),1!=e.sync?i("div",{directives:[{name:"show",rawName:"v-show",value:e.activeItem,expression:"activeItem"}],staticClass:"add-del"},[i("button",{on:{click:e.add}},[e._v("新增人员")]),e._v(" "),i("button",{on:{click:e.delOneData}},[e._v("删除人员")])]):e._e(),e._v(" "),e._e(),e._v(" "),i("div",{staticClass:"content"},[i("Content",{attrs:{list:e.itemList,isRemoving:e.isRemoveimg,showXiangqing:e.showXiangqing,activeYeMa:e.active_yema,activeTreeId:e.activeTreeId,sync:e.sync,roles:e.roles},on:{delThis:e.clickOneDataToRemove,quxiaoshanchu:e.quxiaoshanchu,shuaxin:e.shuaxin}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.alert,expression:"alert"}],staticClass:"alert"},[i("div",{staticClass:"text-wrap"},[i("div",{staticClass:"text-title"},[e._v("新增人员")]),e._v(" "),i("div",{staticClass:"text-content"},[i("div",[i("span",[e._v("名称:")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.addPerson.uname,expression:"addPerson.uname"}],attrs:{type:"text"},domProps:{value:e.addPerson.uname},on:{input:function(t){t.target.composing||e.$set(e.addPerson,"uname",t.target.value)}}})]),e._v(" "),i("div",[i("span",[e._v("手机号:")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.addPerson.mobile,expression:"addPerson.mobile"}],ref:"phoneput",attrs:{type:"text"},domProps:{value:e.addPerson.mobile},on:{input:function(t){t.target.composing||e.$set(e.addPerson,"mobile",t.target.value)}}})]),e._v(" "),i("div",[i("span",[e._v("性别:")]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.addPerson.sex,expression:"addPerson.sex"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.addPerson,"sex",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"1"}},[e._v("男")]),e._v(" "),i("option",{attrs:{value:"2"}},[e._v("女")])])]),e._v(" "),i("div",[i("span",[e._v("持枪证到期时间:")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.addPerson.robcode_endtime,expression:"addPerson.robcode_endtime"}],attrs:{type:"date"},domProps:{value:e.addPerson.robcode_endtime},on:{input:function(t){t.target.composing||e.$set(e.addPerson,"robcode_endtime",t.target.value)}}})]),e._v(" "),i("div",[i("span",[e._v("警号:")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.addPerson.police_number,expression:"addPerson.police_number"}],attrs:{type:"text"},domProps:{value:e.addPerson.police_number},on:{input:function(t){t.target.composing||e.$set(e.addPerson,"police_number",t.target.value)}}})]),e._v(" "),i("div",[i("span",[e._v("角色:")]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.addPerson.role_id,expression:"addPerson.role_id"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.addPerson,"role_id",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"1"}},[e._v("系统管理员")]),e._v(" "),i("option",{attrs:{value:"2"}},[e._v("枪支管理员")]),e._v(" "),i("option",{attrs:{value:"3"}},[e._v("用枪员")]),e._v(" "),i("option",{attrs:{value:"4"}},[e._v("领导")])])])]),e._v(" "),i("div",{staticClass:"btnwrap"},[i("button",{staticClass:"submit",on:{click:e.addOnePerson}},[e._v("确认")]),e._v(" "),i("button",{on:{click:e.quxiao}},[e._v("取消")])])])])]):e._e()},staticRenderFns:[]};var h=i("VU/8")(u,m,!1,function(e){i("40uN")},"data-v-068f9ea7",null);t.default=h.exports}});
//# sourceMappingURL=13.2a322bf26f384aec6ae5.js.map