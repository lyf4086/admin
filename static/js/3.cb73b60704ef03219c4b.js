webpackJsonp([3],{"1qvR":function(e,t){},"2dLs":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("T+62"),n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"guiji"},[a("div",{staticClass:"wrap111"},[a("div",{attrs:{id:"container"}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.filterMessage.uname,expression:"filterMessage.uname"}],staticClass:"left_mes"},[a("div",{staticClass:"main_mes"},[a("span",[e.oneAlarmPersonList.length?e._e():a("i",{directives:[{name:"show",rawName:"v-show",value:!e.oneAlarmPersonList.length&&"new"==e.oldOrNew,expression:"!oneAlarmPersonList.length && oldOrNew=='new'"}],staticClass:"view",class:{left_view:!e.checked_person_show},on:{click:e.binaZuBack}}),e._v(" "),e.oneAlarmPersonList.length?a("i",{staticClass:"view",class:{left_view:!e.oneAlarmPersonListBox},on:{click:e.alarmBoxShowOrHide}}):e._e()]),e._v(" "),a("div",{staticClass:"img_wrap"},[e.filterMessage.imgSrc?a("img",{attrs:{src:e.filterMessage.imgSrc,alt:""}}):e._e(),e._v(" "),e.filterMessage.imgSrc?e._e():a("img",{attrs:{src:i("NIoa")}})]),e._v(" "),a("h6",[e._v(e._s(e.filterMessage.uname))]),e._v(" "),a("p",[e._v("警员编号：")]),e._v(" "),a("p",[e._v(e._s(e.filterMessage.bianhao))]),e._v(" "),a("div",{staticClass:"btn_wrap",attrs:{no_click:e.noClick}},[a("div",{staticClass:"left_btn",on:{click:e.closeToLeft}},[a("i",{staticClass:"l_r"})]),e._v(" "),a("div",{staticClass:"right_btn"},[e.noClick?a("div",{staticClass:"no_click"}):e._e(),e._v(" "),e.yongqiangyuan?a("div",{staticClass:"yongqiangyuan"}):e._e(),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"old"!=e.oldOrNew,expression:"oldOrNew !='old'"}],attrs:{title:"人员编组"},on:{click:e.bianZuList}}),e._v(" "),a("span",{attrs:{title:"查看历史轨迹"},on:{click:e.toHistory}}),e._v(" "),a("span",{attrs:{title:"报警信息"},on:{click:e.toBaoJing}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"old"!=e.oldOrNew,expression:"oldOrNew !='old'"}],attrs:{title:"开始设置报警区域"},on:{click:e.setWarningRange}}),e._v(" "),a("p",{staticClass:"lookmore",on:{click:e.toOnePersonData}},[e._v("查看更多>>")])])])]),e._v(" "),e.oneAlarmPersonList.length?e._e():a("div",{directives:[{name:"show",rawName:"v-show",value:e.checked_person_show&&e.computedList.length,expression:"checked_person_show && computedList.length"}],staticClass:"item_list"},[e._m(0),e._v(" "),a("div",{staticClass:"item_wrap_scroll"},e._l(e.computedList,function(t,i){return a("div",{key:i,staticClass:"item"},[a("p",[a("span",{staticClass:"img_wrap"},[a("img",{attrs:{src:t.policeuser.icon,alt:""}})]),e._v(" "),a("span",{},[e._v(e._s(t.policeuser_name))])]),e._v(" "),a("p",[e._v(e._s(t.policeuser.police_number))]),e._v(" "),a("p",{staticClass:"btns"},[a("span",{attrs:{title:"个人详情"},on:{click:function(i){e.spanToXiangQing(t)}}},[a("i",{staticClass:"el-icon-view"})]),e._v(" "),a("span",{attrs:{title:"报警信息"},on:{click:function(i){e.spanToBaoJing(t)}}}),e._v(" "),a("span",{attrs:{title:"删除"},on:{click:function(i){e.spanToDelete(t)}}})])])}))]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.bianzu_list_show,expression:"bianzu_list_show"}],staticClass:"check-person-list"},[a("div",{staticClass:"check-name"},[a("Tag",{attrs:{list:e.jigouSelArr,jigouSelIndex:e.jigouSelIndex},on:{delOneJiGou:e.delOneJiGou,clickOneTab:e.clickOneTab}})],1),e._v(" "),e._m(1),e._v(" "),a("div",{staticClass:"over-list-wrap"},[a("div",{staticClass:"person-list-wrap",class:{active:0==e.jigouSelIndex}},e._l(e.fillSeilf,function(t,i){return a("div",{key:i,staticClass:"person-list"},[a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"item.checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.checked)?e._i(t.checked,null)>-1:t.checked},on:{change:function(i){var a=t.checked,n=i.target,s=!!n.checked;if(Array.isArray(a)){var o=e._i(a,null);n.checked?o<0&&e.$set(t,"checked",a.concat([null])):o>-1&&e.$set(t,"checked",a.slice(0,o).concat(a.slice(o+1)))}else e.$set(t,"checked",s)}}})]),e._v(" "),a("span",{attrs:{title:t.mechanism_name}},[e._v(e._s(t.mechanism_name))]),e._v(" "),a("span",[e._v(e._s(t.policeuser_name))]),e._v(" "),a("span",{attrs:{title:t.gun_code}},[e._v(e._s(t.gun_code))])])})),e._v(" "),e._l(e.allMechanismPersonList,function(t,i){return a("div",{key:i,staticClass:"person-list-wrap",class:{active:e.jigouSelIndex==i+1}},e._l(t,function(t,i){return a("div",{key:i,staticClass:"person-list"},[a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"item.checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.checked)?e._i(t.checked,null)>-1:t.checked},on:{change:function(i){var a=t.checked,n=i.target,s=!!n.checked;if(Array.isArray(a)){var o=e._i(a,null);n.checked?o<0&&e.$set(t,"checked",a.concat([null])):o>-1&&e.$set(t,"checked",a.slice(0,o).concat(a.slice(o+1)))}else e.$set(t,"checked",s)}}})]),e._v(" "),a("span",{attrs:{title:t.mechanism_name}},[e._v(e._s(t.mechanism_name))]),e._v(" "),a("span",[e._v(e._s(t.policeuser_name))]),e._v(" "),a("span",{attrs:{title:t.gun_code}},[e._v(e._s(t.gun_code))])])}))})],2),e._v(" "),a("div",{staticClass:"button-wrap"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.allMechanismValue,expression:"allMechanismValue"}],domProps:{innerHTML:e._s(e.allMechanism)},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.allMechanismValue=t.target.multiple?i:i[0]},e.MechanismChange]}}),e._v(" "),a("button",{on:{click:e.yijingXuanze}},[e._v("确 定")])])]),e._v(" "),e.oneAlarmPersonList.length&&e.oneAlarmPersonListBox?a("div",{staticClass:"one_alarm_person_list"},e._l(e.oneAlarmPersonList,function(t,n){return a("div",{staticClass:"item"},[a("div",{staticClass:"img_wrap"},[t.icon?a("img",{attrs:{src:t.icon}}):e._e(),e._v(" "),t.icon?e._e():a("img",{attrs:{src:i("NIoa")}})]),e._v(" "),a("span",{attrs:{title:t.policeuser_name}},[e._v(e._s(t.policeuser_name))]),e._v(" "),a("span",{attrs:{title:t.police_number}},[e._v(e._s(t.police_number))])])})):e._e()])]),e._v(" "),a("div",{staticClass:"sel_wrap"},[a("div",{staticClass:"sel_item"},[e._v("\n      机构：\n      "),a("select",{domProps:{innerHTML:e._s(e.jigouOptionStr)},on:{change:e.jigouSelChange}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.gunAndJingyuanOptionStr,expression:"gunAndJingyuanOptionStr"}],staticClass:"sel_item"},[a("span",[e._v("警员及枪支：")]),e._v(" "),a("select",{domProps:{innerHTML:e._s(e.gunAndJingyuanOptionStr)},on:{change:e.jingyuanSelChange}})]),e._v(" "),a("div",{staticClass:"sel_item"},[a("span",[e._v("追踪类型：")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.oldOrNew,expression:"oldOrNew"}],on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.oldOrNew=t.target.multiple?i:i[0]},e.changeGuiJiType]}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("请选择轨迹类型")]),e._v(" "),a("option",{attrs:{value:"old"}},[e._v("历史轨迹")]),e._v(" "),a("option",{attrs:{value:"new"}},[e._v("最新轨迹")])])]),e._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:e.activeIMEI,expression:"activeIMEI"}],on:{click:e.searchOnePerson}},[e._v("查找")]),e._v(" "),e._e()]),e._v(" "),e._m(2),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.setWarning,expression:"setWarning"}],staticClass:"setWarning"},[a("button",{on:{click:e.startSetArea}},[e._v("开始设置区域")]),e._v(" "),a("button",{on:{click:e.confirmSetArea}},[e._v("确认设置区域")]),e._v(" "),a("button",{on:{click:e.resetArea}},[e._v("重新设置区域")])]),e._v(" "),a("div",{staticClass:"alarm_list"},[a("select",{ref:"alarmSelect",staticClass:"sel",attrs:{name:"",id:""},domProps:{innerHTML:e._s(e.allAlarmSelectStr)},on:{change:e.showOne}}),e._v(" "),a("div",[a("strong",[e._v("报警类型：")]),e._v(" "),e.oneAlarmMessage.datetime?a("p",[e._v(e._s(e.oneAlarmMessage.type))]):a("p",[e._v("--|--")])]),e._v(" "),a("div",[a("strong",[e._v("创建时间：")]),e._v(" "),e.oneAlarmMessage.datetime?a("p",[e._v(e._s(e.oneAlarmMessage.datetime))]):a("p",[e._v("--|--")])]),e._v(" "),e.oneAlarmMessage.datetime?a("div",[a("button",{staticClass:"del-area",on:{click:e.del}},[e._v("删除该区域")])]):e._e(),e._v(" "),a("button",{staticClass:"goback",on:{click:e.outIn}},[a("i",{staticClass:"ii"})])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.checkTime||e.setAreaTime,expression:"checkTime || setAreaTime"}],staticClass:"cover"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.checkTime,expression:"checkTime"}],staticClass:"sel_time"},[a("input",{staticClass:"del",attrs:{type:"submit",value:"X"},on:{click:function(t){e.checkTime=!1}}}),e._v(" "),a("h6",[e._v("请选择起止时间")]),e._v(" "),a("div",{staticClass:"put_wrap"},[a("span",[e._v("开始时间：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.startTime,expression:"startTime"}],ref:"star",attrs:{type:"datetime-local"},domProps:{value:e.startTime},on:{input:function(t){t.target.composing||(e.startTime=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"put_wrap"},[a("span",[e._v("结束时间：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.endTime,expression:"endTime"}],attrs:{type:"datetime-local"},domProps:{value:e.endTime},on:{input:function(t){t.target.composing||(e.endTime=t.target.value)}}})]),e._v(" "),a("button",{on:{click:e.searchByTime}},[e._v("搜索")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.setAreaTime,expression:"setAreaTime"}],staticClass:"sel_time"},[a("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"del",attrs:{type:"submit",value:"X"},on:{click:e.stopSetArea}}),e._v(" "),a("h6",[e._v("请选择起止时间")]),e._v(" "),a("div",{staticClass:"put_wrap"},[a("span",[e._v("报警类型：")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.alarmType,expression:"alarmType"}],attrs:{name:"",id:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.alarmType=t.target.multiple?i:i[0]}}},[a("option",{attrs:{value:"1"}},[e._v("单次报警区域")]),e._v(" "),a("option",{attrs:{value:"2"}},[e._v("例常报警区域")])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.alarmType,expression:"alarmType==1"}],staticClass:"danci"},[a("div",{staticClass:"put_wrap"},[a("span",[e._v("开始时间：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.startTime,expression:"startTime"}],ref:"star",attrs:{type:"datetime-local"},domProps:{value:e.startTime},on:{input:function(t){t.target.composing||(e.startTime=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"put_wrap"},[a("span",[e._v("结束时间：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.endTime,expression:"endTime"}],attrs:{type:"datetime-local"},domProps:{value:e.endTime},on:{input:function(t){t.target.composing||(e.endTime=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"put_wrap"},[a("span",[e._v("区域名称：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.areaName,expression:"areaName"}],attrs:{type:"text"},domProps:{value:e.areaName},on:{input:function(t){t.target.composing||(e.areaName=t.target.value)}}})])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.alarmType,expression:"alarmType==2"}],staticClass:"lichang"},[a("div",{staticClass:"put_wrap"},[a("span",[e._v("开始时间：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.startTime,expression:"startTime"}],ref:"star",attrs:{type:"time"},domProps:{value:e.startTime},on:{input:function(t){t.target.composing||(e.startTime=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"put_wrap"},[a("span",[e._v("结束时间：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.endTime,expression:"endTime"}],attrs:{type:"time"},domProps:{value:e.endTime},on:{input:function(t){t.target.composing||(e.endTime=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"put_wrap"},[a("span",[e._v("区域名称：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.areaName,expression:"areaName"}],attrs:{type:"text"},domProps:{value:e.areaName},on:{input:function(t){t.target.composing||(e.areaName=t.target.value)}}})])]),e._v(" "),a("button",{on:{click:e.submitSetAreaWarning}},[e._v("确认")])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.hasPerson&&"old"!==e.oldOrNew,expression:"hasPerson &&oldOrNew!=='old'"}],staticClass:"change-type"},[a("div",{staticClass:"btn",class:{yc:e.checkTypeIsShow},on:{click:e.changeTypeHandle}},[a("i",{staticClass:"fangxiang"})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.checkTypeIsShow,expression:"!checkTypeIsShow"}],staticClass:"btn-wrap"},[a("p",[e._v("请选择定位类型")]),e._v(" "),a("div",{staticClass:"list"},[a("div",{staticClass:"item item1",class:{active:1===e.checkIndex},on:{click:e.changeTypeBtnClick1}},[a("div",{staticClass:"icon"}),e._v("混合\n        ")]),e._v(" "),a("div",{staticClass:"item item2",class:{active:2===e.checkIndex},on:{click:e.changeTypeBtnClick2}},[a("div",{staticClass:"icon"}),e._v("北斗\n        ")]),e._v(" "),a("div",{staticClass:"item item3",class:{active:3===e.checkIndex},on:{click:e.changeTypeBtnClick3}},[a("div",{staticClass:"icon"}),e._v("基站\n        ")]),e._v(" "),a("div",{staticClass:"item item4",class:{active:4===e.checkIndex},on:{click:e.changeTypeBtnClick4}},[a("div",{staticClass:"icon"}),e._v("wifi\n        ")])])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"old"==e.oldOrNew,expression:"oldOrNew=='old'"}],staticClass:"isjiupian"},[a("div",{staticClass:"btn",class:{yc:e.checkTypeIsShow},on:{click:e.changeTypeHandle}},[a("i",{staticClass:"fangxiang"})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.checkTypeIsShow,expression:"!checkTypeIsShow"}],staticClass:"list"},[a("p",[e._v("请选择轨迹模式")]),e._v(" "),a("div",{staticClass:"i",class:{active:e.jiupian},on:{click:e.jiupianhou}},[a("span"),e._v(" "),a("p",[e._v("可能轨迹")])]),e._v(" "),a("div",{staticClass:"i",class:{active:!e.jiupian},on:{click:e.weijiupian}},[a("span"),e._v(" "),a("p",[e._v("混合定位")])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("span",[this._v("编组人员姓名")]),this._v(" "),t("span",[this._v("编组人员编号")]),this._v(" "),t("span",[this._v("编组人员详细信息")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("span",[this._v("选择")]),this._v(" "),t("span",[this._v("选择机构")]),this._v(" "),t("span",[this._v("编组人员")]),this._v(" "),t("span",[this._v("枪支编号")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"warning"},[t("div",{staticClass:"btns"},[t("span",[this._v("在库")]),this._v(" "),t("span",[this._v("入套")]),this._v(" "),t("span",[this._v("执勤")]),this._v(" "),t("span",[this._v("离套")])])])}]};var s=function(e){i("1qvR")},o=i("VU/8")(a.a,n,!1,s,null,null);t.default=o.exports},"30x2":function(e,t){},"3Pbh":function(e,t,i){"use strict";(function(e){t.a={props:["list","jigouSelIndex"],data:function(){return{n:0}},methods:{del:function(e){this.$emit("delOneJiGou",e)},tabOne:function(e){this.$emit("clickOneTab",e)},scrollLeft:function(){this.$refs.scroll.scrollWidth;e("#scrollListTap").animate({scrollLeft:0})},scrollRight:function(){var t=this.$refs.scroll.scrollWidth;e("#scrollListTap").animate({scrollLeft:t})}},watch:{list:function(e){this.$refs.scroll.style.width=this.list.length+1+"rem"}},updated:function(){}}}).call(t,i("7t+N"))},"5MAP":function(e,t){e.exports="data:image/png;base64,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"},LtOh:function(e,t,i){"use strict";function a(e,t,i){var a=this,n=this.$store.state.key,s={IMEI:e,stime:t,etime:i,ps:999},o=this.$methods.mkSign(s,n),r=this.$gscookie.getCookie("gun"),c=new URLSearchParams;c.append("IMEI",s.IMEI),c.append("stime",s.stime),c.append("etime",s.etime),c.append("ps",s.ps),c.append("sign",o),c.append("token",r),this.$axios({url:this.$store.state.baseURL+"/weixin/project/index.php?m=Home&c=Position&a=rec_position",method:"POST",changeOrigin:!0,data:c}).then(function(e){if(e.data.length){var t=e.data.map(function(e){return[e.longitude-0,e.latitude-0]});a.guijiHistory(t),a.checkTime=!1;var i=e.data.filter(function(e){return e.state});console.log("报警点",i);var n=i.map(function(e,t){return new AMap.Marker({content:'<div class="jiupian" >\n                              <div class="j-icon '+(2==e.state?"wx":"")+" "+(3==e.state?"jz":"")+" "+(4==e.state?"wf":"")+'"></div>\n                              <div class="j-cover"></div>\n                            </div>',position:[e.longitude-0,e.latitude-0],title:e.sname,offset:new AMap.Pixel(-17,-40)})});a.map.add(n)}else a.$message("暂时没有轨迹数据"),a.checkTime=!1}).catch(function(e){console.log(e)})}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"getBujiupian",function(){return a})},"T+62":function(e,t,i){"use strict";(function(e){var a=i("mvHQ"),n=i.n(a),s=i("Gu7T"),o=i.n(s),r=i("Dd8w"),c=i.n(r),l=i("xX3Z"),h=i("hZga"),d=i("LtOh"),u=i("pRi9"),p=i("162o");i.n(p);t.a={components:{Tag:u.a},data:function(){return{map:"",moveTimer:null,moveingPersonList:[],dataHasChange:!1,activePersonsDingWei:[],isChange:!1,active_person_show:!1,bianzu_list_show:!1,checked_person_show:!1,jigouOptionStr:"",gunAndJingyuanOptionStr:"",activeIMEI:"",noCheckedList:[],selectedPerson:{},checkedPersonArr:[],lineArr:[],pointMark:[[1,1]],oldOrNew:"",checkTime:!1,startTime:"2019-09-04T11:11",endTime:"2019-09-11T11:11",areaName:"",filterMessage:{uname:"",bianhao:"",newOrOld:"",imgSrc:""},timer:"",onLeft:!1,IMEI_img:[],aaimg:"",setWarning:!1,markerArr:[],polyline:"",polygon:"",polygonArr:"",allAlarmShow:!0,allAlarmAreaList:[],setAreaTime:!1,activeAreaAlarmId:"",alarmType:"1",allAlarmSelectStr:"",allAlarmSelectValue:"",noClick:!1,oneAlarmPersonList:[],oneAlarmPersonListBox:!0,oldPositionArr:[],role_id:{},oneAlarmMessage:{},timer2:null,allPersonIEMIStr:"",showAllIMEI:!1,yongqiangyuan:!1,areaTimer:null,delId:"",shezhiyanse:null,options:[{value:"选项1",label:"黄金糕"}],value:"",optionsStr:"",hasPerson:!1,clickTrue:!0,header:{jizhan:i("zSnF"),wifi:i("5MAP")},headName:"",checkTypeIsShow:!1,checkIndex:1,allMechanismData:null,allMechanism:null,allMechanismValue:"",jigouSelArr:[],jigouSelIndex:0,allMechanismPersonList:[],jigouname:"",markerArrLinShi:[],jiupian:!0}},computed:{computedList:function(){return this.checkedPersonArr.slice(1)},fillSeilf:function(){var e=this;return this.noCheckedList.filter(function(t){return t.IMEI!==e.selectedPerson.IMEI})}},methods:c()({},l,h,d,{jiupianhou:function(){this.jiupian=!0,this.searchByTime()},weijiupian:function(){console.log("weijiupian"),this.jiupian=!1,this.searchByTime()},clickOneTab:function(e){this.jigouSelIndex=e},delOneJiGou:function(e){0!=e&&(this.jigouSelArr.splice(e,1),this.clickOneTab(0))},MechanismChange:function(){var e=this.allMechanismValue.split("|"),t=this.allMechanismData.find(function(t){return t.id==e[0]});if(!this.jigouSelArr.find(function(e){return e==t.mechanism_name})){var i=this.jigouSelArr.push(t.mechanism_name);this.jigouSelIndex=i-1,console.log(e[0],e[1]),this.getAllJiGouName(e[0],e[1])}},changeTypeHandle:function(){this.checkTypeIsShow=!this.checkTypeIsShow},changeTypeBtnClick1:function(){this.checkIndex=1,this.value=1,this.headName="",this.markerArr.forEach(function(e){e.stopMove()}),this.isChange=!0,this.searchOnePerson()},changeTypeBtnClick2:function(){this.checkIndex=2,this.value=2,this.headName="",this.markerArr.forEach(function(e){e.stopMove()}),this.isChange=!0,this.searchOnePerson()},changeTypeBtnClick3:function(){this.$message("当前为基站定位，定位数据仅供参考"),this.checkIndex=3,this.value=3,this.headName="jizhan",this.markerArr.forEach(function(e){e.stopMove()}),this.isChange=!0,this.searchOnePerson()},changeTypeBtnClick4:function(){this.checkIndex=4,this.value=4,this.headName="wifi",this.markerArr.forEach(function(e){e.stopMove()}),this.isChange=!0,this.searchOnePerson()},TypeChange:function(){console.log(this.value),this.hasPerson&&(3==this.value?(this.$message("当前为基站定位，定位数据仅供参考"),this.headName="jizhan"):4==this.value?this.headName="wifi":this.headName="",this.markerArr.forEach(function(e){e.stopMove()}),this.isChange=!0,this.searchOnePerson())},spanToXiangQing:function(e){this.$store.commit("setPoliceId",{policeuser_id:e.policeuser_id}),this.$router.push({name:"PersonMessage"})},spanToBaoJing:function(e){this.$router.push({name:"BaoJing",params:e})},spanToDelete:function(e){if(this.noCheckedList.forEach(function(t){t.IMEI==e.IMEI&&(t.checked=!1)}),this.noCheckedList.filter(function(e){return e.checked}).length<1)return this.shuaXinMap(),this.getIMEI([this.activeIMEI]),void(this.checkedPersonArr.length=0);this.yijingXuanze()},toOnePersonData:function(){this.$store.commit("setPoliceId",{policeuser_id:this.selectedPerson.policeuser_id}),this.$router.push({name:"PersonMessage"})},toHistory:function(){var e=this;this.$confirm("此操作将搜索历史轨迹, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.oldOrNew="old",e.isChange=!0,e.checkTime=!0}).catch(function(){e.$message({type:"info",message:"已取消"})})},changeTime:function(e){var t=new Date(1e3*e);return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+((t.getDate()<10?"0"+t.getDate():t.getDate())+" ")+((t.getHours()<10?"0"+t.getHours():t.getHours())+":")+((t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":")+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())},alarmBoxShowOrHide:function(){this.oneAlarmPersonListBox=!this.oneAlarmPersonListBox},stopSetArea:function(){this.setAreaTime=!1,this.polygon.hide(),this.markerArr.length=0},showOne:function(){var e=this;this.hasPerson=!1,this.bianzu_list_show=!1,this.markerArr.forEach(function(e){e.stopMove()});var t=this.$refs.alarmSelect.value;this.allMechanismPersonList.length=0,this.jigouSelArr.length=1,this.jigouSelIndex=0,this.delId=t,t?(Object(p.setTimeout)(function(){e.overArea(t)},500),Object(p.clearInterval)(this.areaTimer),this.areaTimer=Object(p.setInterval)(function(){e.overArea(t)},1e4),this.getOneAlarmArea(t),this.noClick=!0,this.isChange=!0):this.$message({type:"warning",message:"先选择区域"})},del:function(){var e=this,t=this.delId,i=this;this.$confirm("此操作将永久删除该区域, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.delOneAlarmArea(t)}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},showAll:function(){var e=this.$refs.alarmSelect.value;this.getOneAlarmArea(e)},submitSetAreaWarning:function(){var e=[].concat(o()(this.checkedPersonArr),[this.selectedPerson]),t=e.map(function(e){return e.gun_id}),i=e.map(function(e){return e.ip_id}),a=this.markerArr.map(function(e){return e.Ge.position.lng+"|"+e.Ge.position.lat}),n=this.selectedPerson.policeuser_id,s=this.startTime.replace("T"," "),r=this.endTime.replace("T"," "),c=this.areaName,l=e.map(function(e){return e.IMEI}).join(",");c.trim()?(this.shezhiquyu(t,i,a,n,s,r,c,l),this.startTime=this.endTime="",this.areaName=""):this.$message({type:"warning",message:"请输入区域名称"})},showOneAlarmArea:function(e,t){var i=this.map,a=this,n=e.map(function(e){return e.Ge.position}),s=new AMap.Polygon({path:n,fillColor:"rgba(165,233,170,0.5)",borderWeight:2,strokeColor:"rgb(66,92,248)",area_alarm_id:t});s.on("rightclick",function(e){var t=new AMap.ContextMenu;t.addItem("删除该区域",function(){s.hide(),a.delOneAlarmArea(e.target.Ge.area_alarm_id)},0),t.addItem("显示该区域人员",function(){console.log("可以获取单个区域")},1),t.open(i,e.lnglat)}),this.polygon=s,i.add(s),this.map.setFitView(s)},showAllAlarmArea:function(e){if(""!=e){var t=this,i=this.map,a=(e.length?e:[e]||this.allAlarmAreaList).map(function(e){var t=e.points.split(",").map(function(e){return e.split("|")});return c()({},e,{pointArr:t})}).map(function(e){return new AMap.Polygon({path:e.pointArr,fillColor:"rgba(165,233,170,0.5)",borderWeight:2,strokeColor:"rgb(66,92,248)",area_alarm_id:e.area_alarm_id,stime:e.stime,etime:e.etime,isenable:e.isenable})});a.forEach(function(e){e.on("rightclick",function(a){var n=new AMap.ContextMenu;n.addItem("删除该区域",function(){e.hide(),t.delOneAlarmArea(a.target.Ge.area_alarm_id)},0),n.addItem("显示该区域人员",function(){console.log("显示该区域人员",a.target.Ge.area_alarm_id),t.getOneAlarmArea(a.target.Ge.area_alarm_id)},1),n.open(i,a.lnglat)})}),this.polygonArr=a,i.add(a),this.map.setFitView(a)}else this.$message("暂时没有报警区域")},outIn:function(){this.allAlarmShow?e(".alarm_list").animate({right:"-2.4rem"},function(){e(".goback").animate({right:"2.08rem"}),e(".ii").css("transform","rotateY(180deg)")}):e(".goback").animate({right:"0"},function(){e(".alarm_list").animate({right:"-0.33rem"}),e(".ii").css("transform","rotateY(0deg)")}),this.allAlarmShow=!this.allAlarmShow},donghua:function(){var e=this;AMapUI.load(["ui/misc/PathSimplifier","lib/$"],function(t,i){if(t.supportCanvas){e.map.clearMap();e.initPage(t,i,["../project/Uploads/2018-12-21/1-8.png","../project/Uploads/2018-12-21/1-2.png","../project/Uploads/2018-12-21/Q11.png"],[[[116.288282,40.149152],[116.288656,40.148176]],[[116.292874,40.149154],[116.282716,40.148926]],[[116.288856,40.148282],[116.288156,40.141282]]])}else alert("当前环境不支持 Canvas！")})},changeGuiJiType:function(e){this.isChange=!0,this.oldOrNew=e.target.value,"new"==e.target.value?this.lineArr.length=0:this.pointMark=[1,1]},toBaoJing:function(){var e=this;this.activeIMEI;this.$confirm("此操作将去报警页面, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$router.push({name:"BaoJing",params:e.selectedPerson})}).catch(function(){e.$message({type:"info",message:"已取消"})})},searchByTime:function(){var e=this.startTime.replace("T"," "),t=this.endTime.replace("T"," ");e&&t?(this.shuaXinMap(),this.jiupian?this.searchHistory(this.activeIMEI,e,t):this.getBujiupian(this.activeIMEI,e,t)):this.$message({message:"请选择时间",type:"warning"})},searchOnePerson:function(){if(this.jiupian=!0,this.oneAlarmMessage={},this.oneAlarmPersonList.length=0,!this.isChange)return console.log("重复点击"),void this.map.setFitView([].concat(o()(this.markerArr)));var e,t,i,a;if(this.showAllIMEI)this.getAllPersonByIMEI(this.allPersonIEMIStr);else if(this.markerArr.length&&this.markerArr.forEach(function(e){e.stopMove()}),this.jigouSelArr.length=0,this.jigouSelArr.push(this.jigouname),console.log(this.jigouname),Object(p.clearInterval)(this.areaTimer),this.noCheckedList.forEach(function(e){return e.checked=!1}),this.checkedPersonArr.length=0,Object(p.clearInterval)(this.areaTimer),this.shuaXinMap(),this.$refs.alarmSelect.value="",this.setWarning=!1,this.IMEI_img=[],this.IMEI_img[this.activeIMEI]=this.aaimg,this.filterMessage.uname=this.selectedPerson.policeuser_name,this.filterMessage.bianhao=this.selectedPerson.policeuser.police_number,this.filterMessage.imgSrc=this.selectedPerson.policeuser.icon,this.$refs.star.max=(e=new Date,t=e.getFullYear(),i=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,a=e.getDate()<10?"0"+e.getDate():e.getDate(),t+"-"+i+"-"+a),"old"!=this.oldOrNew){this.active_person_show=!0,this.getIMEI([this.activeIMEI])}else this.checkTime=!0},bianZuList:function(){this.bianzu_list_show=!this.bianzu_list_show,this.checked_person_show=!1},yijingXuanze:function(){var e=this,t=[];this.allMechanismPersonList.forEach(function(e){e.forEach(function(e){e.checked&&t.push(e)})});var i=this.noCheckedList.filter(function(e){return e.checked});if(i.length){for(var a=0;a<i.length;a++)this.IMEI_img[i[a].IMEI]=i[a].policeuser.img;t.forEach(function(t,i){e.IMEI_img[t.IMEI]=t.policeuser.img}),this.checkedPersonArr=[].concat(o()(i),t),this.bianzu_list_show=!1,this.checked_person_show=!0;var n=i.map(function(e){return e.IMEI});n.unshift(this.activeIMEI);var s=t.map(function(e){return e.IMEI}),r=[].concat(o()(s),o()(n));console.log(r),this.shuaXinMap(),this.getIMEI(r)}else this.$message("请选择编组人员")},binaZuBack:function(){this.checked_person_show=!this.checked_person_show},jigouSelChange:function(e){var t=e.target[e.target.selectedIndex];this.jigouname=t.innerText.trim(),this.isChange=!0,this.getPersonAndGunStr(e.target.value)},jingyuanSelChange:function(e){var t=this;this.isChange=!0,this.str=e.target.value.split("|"),this.activeIMEI=this.str[0];var i=this.str[1];this.aaimg=i;var a=this.noCheckedList.filter(function(e){return e.IMEI==t.activeIMEI});this.selectedPerson=a[0]},closeToLeft:function(){(this.bianzu_list_show||this.checked_person_show||this.oneAlarmPersonListBox)&&(this.bianzu_list_show=!1,this.checked_person_show=!1,this.oneAlarmPersonListBox=!1),this.onLeft?(e(".left_btn").animate({left:"0rem"},function(){e(".main_mes").animate({left:"0rem"})}),e(".l_r").css("transform","rotateY(0deg)")):(e(".main_mes").animate({left:"-1.7rem"},function(){e(".left_btn").animate({left:"1.7rem"})}),e(".l_r").css("transform","rotateY(180deg)")),this.onLeft=!this.onLeft},shuaXinMap:function(){var e=new AMap.Map("container",{center:[116.397428,39.90923],resizeEnable:!0,zoom:9});this.map=e},guijiHistory:function(e){AMapUI.load(["ui/misc/PathSimplifier"],function(i){i.supportCanvas?function(i){var a=new i({zIndex:100,map:t,getPath:function(e,t){return e.path},getHoverTitle:function(e,t,i){},renderOptions:{pathLineStyle:{strokeStyle:"#0091ea",lineWidth:6,dirArrowStyle:!0}}});a.setData([{name:"轨迹0",path:e}]),a.createPathNavigator(0,{loop:!0,speed:100}).start()}(i):alert("当前环境不支持 Canvas！")});var t=this.map}}),created:function(){3==this.$store.state.role_id&&(this.yongqiangyuan=!0);var e=this.$gscookie.getCookie("gun");"{}"==n()(e)&&this.$router.push("/loginput"),this.getJiGouStr(),this.getAlarmList(),this.role_id=this.$gscookie.getCookie("message_obj").role_id},mounted:function(){var e=this;this.timer2=Object(p.setInterval)(function(){e.hasWarning()},1e4),document.addEventListener("click",function(e){"to_xiangqing"==e.target.className&&console.log(e.target.dataset.d)});this.shuaXinMap(),document.querySelector(".amap-logo").style.display="none",document.querySelector(".amap-copyright").style.opacity="0"},beforeDestroy:function(){Object(p.clearInterval)(this.timer2),Object(p.clearInterval)(this.moveTimer)},updated:function(){document.querySelector(".amap-logo").style.display="none",document.querySelector(".amap-copyright").style.opacity="0"},activated:function(){var e=this.$route.params;e.area_id&&(this.$refs.alarmSelect.value=e.area_id,this.showOne()),e.IMEI&&(this.filterMessage.uname=e.policeName,this.filterMessage.newOrOld="old",this.filterMessage.imgSrc=e.icon,this.activeIMEI=e.IMEI,this.checkTime=!0)}}}).call(t,i("7t+N"))},hZga:function(e,t,i){"use strict";function a(){var e=this.$store.state.key,t=this.$methods.mkSign({},e),i=this.$gscookie.getCookie("gun"),a=new URLSearchParams;a.append("sign",t),a.append("token",i),this.$axios({url:this.$store.state.baseURL+"/weixin/project/index.php?m=home&c=alarm&a=isalarm",method:"POST",changeOrigin:!0,data:a}).then(function(e){e.data.code}).catch(function(e){console.log(e)})}function n(e){var t=this,i={area_id:e},a=this.$store.state.key,n=this.$methods.mkSign(i,a),s=this.$gscookie.getCookie("gun"),o=new URLSearchParams;o.append("sign",n),o.append("token",s),o.append("area_id",i.area_id),this.$axios({url:this.$store.state.baseURL+"/weixin/project/index.php?m=home&c=Alarm&a=area_sta",method:"POST",changeOrigin:!0,data:o}).then(function(e){if(200==e.data.code){if(!t.polygon)return;var i=e.data.state;console.log("是否存在报警state为",i),clearInterval(t.shezhiyanse),t.shezhiyanse=setTimeout(function(){1===i?t.polygon.setOptions({fillColor:"rgba(195,13,35,0.4)"}):t.polygon.setOptions({fillColor:"rgba(1,221,156,0.4)"})},1e4)}}).catch(function(e){console.log(e)})}function s(e,t,i){var a=this,n={policeuser_id:t,IMEI:i},s=this.$store.state.key,o=this.$methods.mkSign(n,s),r=this.$gscookie.getCookie("gun"),c=new URLSearchParams;c.append("sign",o),c.append("token",r),c.append("policeuser_id",n.policeuser_id),c.append("IMEI",n.IMEI),this.$axios({url:this.$store.state.baseURL+"/weixin/project/index.php?m=home&c=position&a=dingwei",method:"POST",changeOrigin:!0,data:c}).then(function(e){200==e.data.code&&(console.log(e),a.onePersonMessage.created=e.data.data.created,a.onePersonMessage.IMEI=e.data.data.IMEI,a.onePersonMessage.gtype=e.data.data.gtype,a.onePersonMessage.ptype=e.data.data.ptype)}).catch(function(e){console.log(e)})}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"hasWarning",function(){return a}),i.d(t,"overArea",function(){return n}),i.d(t,"getOnePersonDate",function(){return s})},pRi9:function(e,t,i){"use strict";var a=i("3Pbh"),n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wrap11"},[i("div",{staticClass:"prev",on:{click:e.scrollLeft}},[e._v("<")]),e._v(" "),i("div",{staticClass:"scroll",attrs:{id:"scrollListTap"}},[i("div",{ref:"scroll"},e._l(e.list,function(t,a){return i("div",{key:a,staticClass:"item",class:{active:e.jigouSelIndex==a},on:{click:function(t){e.tabOne(a)}}},[e._v("\n        "+e._s(t)+"\n        ")])}))]),e._v(" "),i("div",{staticClass:"next",on:{click:e.scrollRight}},[e._v(">")])])},staticRenderFns:[]};var s=function(e){i("30x2")},o=i("VU/8")(a.a,n,!1,s,"data-v-c14ff6a4",null);t.a=o.exports},xX3Z:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"GetDistance",function(){return l}),i.d(t,"personMoveing",function(){return h}),i.d(t,"getIMEI",function(){return u}),i.d(t,"getAllPersonByIMEI",function(){return d}),i.d(t,"getJiGouStr",function(){return p}),i.d(t,"searchHistory",function(){return m}),i.d(t,"creatInfoBox",function(){return g}),i.d(t,"getPersonAndGunStr",function(){return v}),i.d(t,"initPage",function(){return f}),i.d(t,"extend",function(){return _}),i.d(t,"setWarningRange",function(){return k}),i.d(t,"setMarker",function(){return w}),i.d(t,"startSetArea",function(){return I}),i.d(t,"confirmSetArea",function(){return A}),i.d(t,"resetArea",function(){return M}),i.d(t,"shezhiquyu",function(){return y}),i.d(t,"getAlarmList",function(){return T}),i.d(t,"getOneAlarmArea",function(){return C}),i.d(t,"delOneAlarmArea",function(){return S}),i.d(t,"showOneAreaAllMarker",function(){return x}),i.d(t,"showOneAlarmPolygon",function(){return P}),i.d(t,"getNewPosition",function(){return O}),i.d(t,"unifromSpeedMoveing",function(){return b}),i.d(t,"getAllJiGouName",function(){return E});var a=i("Dd8w"),n=i.n(a),s=i("Gu7T"),o=i.n(s),r=i("woOf"),c=i.n(r);function l(e,t,i,a){var n=t*Math.PI/180,s=a*Math.PI/180,o=n-s,r=e*Math.PI/180-i*Math.PI/180,c=2*Math.asin(Math.sqrt(Math.pow(Math.sin(o/2),2)+Math.cos(n)*Math.cos(s)*Math.pow(Math.sin(r/2),2)));return c*=6378.137,c=Math.round(1e4*c)/1e4}function h(){var e=this,t=this;clearInterval(this.moveTimer),this.moveTimer=setInterval(function(){console.log("请求最新位置了",e.moveingPersonList,"嗯",e.$refs.alarmSelect.value),t.getNewPosition(e.$refs.alarmSelect.value)},1e4)}function d(e){var t=this.$store.state.key,i={IMEI:e,ps:9999},a=this.$methods.mkSign(i,t),n=this.$gscookie.getCookie("gun"),s=new URLSearchParams;s.append("IMEI",i.IMEI),s.append("ps",i.ps),s.append("sign",a),s.append("token",n),this.$axios({url:this.$store.state.baseURL+"/weixin/project/index.php?m=home&c=position&a=positions",method:"POST",changeOrigin:!0,data:s}).then(function(e){console.log("所有人的位置暂未完成",e)}).catch(function(e){console.log(e)})}function u(e){var t=this,a=e.join(","),n=this.$store.state.key,s={IMEI:a,ps:9999,lid:this.value-0},r=this.$methods.mkSign(s,n),l=this.$gscookie.getCookie("gun"),h=new URLSearchParams;h.append("IMEI",s.IMEI),h.append("ps",s.ps),h.append("sign",r),h.append("token",l),h.append("lid",s.lid),this.$axios({url:this.$store.state.baseURL+"/weixin/project/index.php?m=home&c=position&a=positions",method:"POST",changeOrigin:!0,data:h}).then(function(e){var a=t;t.hasPerson=!0,t.isChange=!1;var n=e.data.data.list.map(function(e){return[1*e.longitude,1*e.latitude]}),s=e.data.data.list,r=t.checkedPersonArr;r.unshift(t.selectedPerson);var l=s.map(function(e){var t=r.find(function(t){return t.IMEI==e.IMEI});return c()(e,t)});t.moveingPersonList=r;for(var h=[],d=e.data.data.list,u=0;u<d.length;u++){var p=new Array(2);p.ponint=[1*d[u].longitude,1*d[u].latitude],p.IMEI=d[u].IMEI,h[u]=p}var m=l.map(function(e){var t=h.find(function(t){return t.IMEI==e.IMEI});return c()(e,t)}),g=i("NIoa"),v=m.map(function(e,i){return new AMap.Marker({content:'<div class="marker-route" >\n                    <div class="cover" ></div>\n                    <div class="img_wrap">\n                      <img src="'+(t.header[t.headName]||e.policeuser.icon||g)+'" />\n                    </div>\n                  </div>',position:e.ponint,jigou:e.mechanism_name,gtype:e.gtype,title:e.policeuser_name,src:e.policeuser.icon||g,IMEI:e.IMEI,time:e.created,heart:e.heart,ptype:e.ptype,positions:e.gun_code,offset:new AMap.Pixel(-16,-39),policeuser_id:e.policeuser_id})});v.forEach(function(e){AMap.event.addListener(e,"click",function(t){a.creatInfoBox(e)})}),t.map.add(v),t.map.setFitView([].concat(o()(v))),t.pointMark=n,t.noClick=!1,t.markerArr=v,t.personMoveing()}).catch(function(e){console.log(e)})}function p(){var e=this,t=this.$store.state.key,i={p:1,ps:10,mechanism_id:1},a=this.$methods.mkSign(i,t),n=this.$gscookie.getCookie("gun"),s=new URLSearchParams;s.append("p",i.p),s.append("ps",i.ps),s.append("mechanism_id",i.mechanism_id),s.append("sign",a),s.append("token",n),this.$axios({url:this.$store.state.baseURL+"/weixin/project/index.php?m=home&c=mechanism&a=mechanisms_tree",method:"POST",changeOrigin:!0,data:s}).then(function(t){e.jigouOptionStr='<option value="" disabled selected>请选择搜索的机构</option>'+function e(t){var i="";if(t.length>0)for(var a=0;a<t.length;a++)i+='<option value="'+t[a].id+'" >'+"&nbsp;&nbsp;".repeat(t[a].index)+t[a].mechanism_name+"</option>",t[a].child.length>0&&(i+=e(t[a].child));return i}(t.data.data.list)}).catch(function(e){console.log(e)})}function m(e,t,i){var a=this,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:999,s=this.$store.state.key,o={IMEI:e,stime:t,etime:i,ps:n},r=this.$methods.mkSign(o,s),c=this.$gscookie.getCookie("gun"),l=new URLSearchParams;l.append("IMEI",o.IMEI),l.append("stime",o.stime),l.append("etime",o.etime),l.append("ps",o.ps),l.append("sign",r),l.append("token",c),this.$axios({url:this.$store.state.baseURL+"/weixin/project/index.php?m=home&c=position&a=position",method:"POST",changeOrigin:!0,data:l}).then(function(e){if("200"==e.data.code){if(a.oldOrNew="old",a.checkTime=!1,e.data.data.list.length){var t=a,i=(e.data.data.list.filter(function(e){return e.alarm}),e.data.data.list.map(function(e){return[e.longitude-0,e.latitude-0]}),e.data.data.list.map(function(e,t){return{x:e.longitude-0,y:e.latitude-0,sp:10,ag:0,tm:180}})),n=void 0;return n||(n=new AMap.GraspRoad),void n.driving(i,function(e,i){if(e)console.log(e);else{for(var a=[],n=i.data.points,s=0;s<n.length;s+=1)a.push([n[s].x,n[s].y]);var o=new AMap.Polyline({path:a,strokeWeight:8,strokeOpacity:.8,strokeColor:"#0091ea",showDir:!0});t.map.add(o),t.map.setFitView()}})}a.$message("暂时没有轨迹数据"),a.checkTime=!1}}).catch(function(e){console.log(e)})}function g(e){setTimeout(function(){s()},15e3);var t=this,i=this.map,a='警员姓名：<span style="font-size:11px;color:#F00;">'+e.Ge.title+"</span>",n=[];function s(){i.clearInfoWindow()}return n.push('<img alt="头像" src=\''+e.Ge.src+'\' style="width:1rem;">'),n.push("所属机构："+e.Ge.jigou+"<br/>枪支类型："+e.Ge.gtype),n.push("枪支编号:"+e.Ge.positions),n.push("是否在线:"+(1==e.Ge.heart?"在线":"不在线")),n.push("定位类型:"+e.Ge.ptype),n.push("枪瞄编号:"+e.Ge.IMEI),n.push("最后定位时间:"+e.Ge.time),new AMap.InfoWindow({isCustom:!0,content:function(i,a){var n=document.createElement("div");n.className="custom-info input-card content-window-card";var o=document.createElement("div"),r=document.createElement("div"),c=document.createElement("img");document.createElement("span").className="toxiangqing",document.addEventListener("click",function(i){"toxiangqing"==i.target.className&&t.$router.push({name:"ChiQiang",params:{item:e}})}),o.className="info-top",r.innerHTML=i,c.src="https://webapi.amap.com/images/close2.gif",c.onclick=s,o.appendChild(r),o.appendChild(c),n.appendChild(o),n.style.minWidth="300px";var l=document.createElement("div");l.className="info-middle",l.style.backgroundColor="white",l.innerHTML=a,n.appendChild(l);var h=document.createElement("div");h.className="info-bottom",h.style.position="relative",h.style.top="0px",h.style.margin="0 auto";var d=document.createElement("img");return d.src="https://webapi.amap.com/images/sharp.png",h.appendChild(d),n.appendChild(h),n}(a,n.join("<br/>")),offset:new AMap.Pixel(16,-80)}).open(i,e.getPosition())}function v(e){var t=this,a=this.$store.state.key,s={p:1,ps:10,mechanism_id:e},o=this.$methods.mkSign(s,a),r=this.$gscookie.getCookie("gun"),c=new URLSearchParams;c.append("p",s.p),c.append("ps",s.ps),c.append("mechanism_id",s.mechanism_id),c.append("sign",o),c.append("token",r),this.$axios({url:this.$store.state.baseURL+"/weixin/project/index.php?m=home&c=position&a=guns",method:"POST",changeOrigin:!0,data:c}).then(function(e){if(200==e.data.code){if(t.startTime=e.data.start+"T01:00",t.endTime=e.data.start+"T23:00",e.data.arr){t.allMechanismData=e.data.arr;var a=e.data.arr.map(function(e){return'<option value="'+e.id+"|"+e.ip_id+'" >'+e.mechanism_name+"</option>"});a.unshift('<option value="" disabled selected >请选择</option>'),t.allMechanism=a.join()}else console.log("无跨机构数据");t.allPersonIEMIStr=e.data.IMEIs;var s=e.data.data.list.map(function(e){return n()({},e,{checked:!1})});if(!e.data.data.list.length)return t.gunAndJingyuanOptionStr="",t.activeIMEI="",void t.$message({type:"warning",message:"该机构下暂无人员数据"});t.activeIMEI=e.data.data.list.length?e.data.data.list[0].IMEI:"",t.gunAndJingyuanOptionStr='\n            <option value="" disabled selected >请选择人员和枪支</option>\n\n            '+function(e){var t=i("NIoa"),a="";if(!e.length)return a="<option >暂时没有数据</option>";return e.forEach(function(e){e.policeuser.img||(e.policeuser.img=t),a+='<option value="'+e.IMEI+"|"+e.policeuser.img+'"  >枪支编号：'+e.gun_code+" , 所属警员："+(e.policeuser_name?e.policeuser_name:"暂未绑定人员")+",枪瞄编号："+e.IMEI+"</option>"}),a}(e.data.data.list),t.noCheckedList=s}}).catch(function(e){console.log(e)})}function f(e,t,i,a){var n=new e({zIndex:100,map:this.map,autoSetFitView:!1,getPath:function(e,t){return e.path},getHoverTitle:function(e,t,i){if(i>=0)return e.name+"，点:"+i+"/"+e.path.length},renderOptions:{eventSupport:!1,eventSupportInvisible:!1,pathLineStyle:{strokeStyle:"white",lineWidth:0,borderWidth:0,dirArrowStyle:!1},startPointStyle:{radius:0},endPointStyle:{radius:0}}});window.PathSimplifier=e,window.pathSimplifierIns=n;for(var s=[],o=0;o<a.length;o++){var r={name:"name",path:e.getGeodesicPath(a[o][0],a[o][1],10)};s.push(r)}function c(){n.renderLater()}function l(e){alert("图片加载失败！")}n.setData(s);var h=[];for(o=0;o<i.length;o++){r={width:50,height:60,autoRotate:!1,content:e.Render.Canvas.getImageContent(i[o],c,l),pathLinePassedStyle:{strokeStyle:"white",lineWidth:0,borderWidth:0}};h.push(r)}var d=[];for(o=0;o<i.length;o++)d[o]={},d[o].fn=n.createPathNavigator(o,{loop:!1,speed:5,pathNavigatorStyle:this.extend({},h[o])}),d[o].fn.start()}function _(e){e||(e={});for(var t=Array.prototype.slice.call(arguments,1),i=0,a=t.length;i<a;i++){var n=t[i];if(n)for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s])}return e}function k(){var e=this;this.$confirm("此操作将开始设置报警区域, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.setWarning=!0}).catch(function(){e.$message({type:"info",message:"已取消设置"})})}function w(e){var t=this.map,i=new AMap.Marker({position:new AMap.LngLat(e.lnglat.Q,e.lnglat.P)});this.markerArr.push(i),t.add(i)}function I(){if(this.clickTrue){this.clickTrue=!1;var e=this.map;this.markerArr.length=0,e.on("click",this.setMarker)}}function A(){this.clickTrue=!0;var e=this.map,t=this.markerArr.map(function(e){return e.Ge.position}),i=new AMap.Polygon({path:t,fillColor:"rgba(255,0,0,0.3)",borderWeight:2,strokeColor:"red",strokeStyle:"dashed"});this.polygon=i,e.add(i),this.markerArr.forEach(function(t){return e.remove(t)}),e.off("click",this.setMarker),this.setAreaTime=!0,this.setWarning=!1}function M(){var e=this.map;this.clickTrue=!0,e.remove(this.polygon),this.polygon=null}function y(e,t,i,a,n,s,o,r){var c=this,l=new Date,h=l.getFullYear(),d=l.getMonth()+1,u=l.getDate()+1;function p(e){return e<10?"0"+e:e}var m=h+"-"+p(d)+"-"+p(u),g={gun_ids:e.join(","),ip_ids:t,points:i.join(","),policeuser_id:a,stime:n.length<6?m+" "+n:n,etime:s.length<6?m+" "+s:s,type:s.length<6?2:1,mechanism_id:this.selectedPerson.mechanism_id,area_alarm_name:o,IMEI:r},v=this.$store.state.key,f=this.$methods.mkSign(g,v),_=this.$gscookie.getCookie("gun"),k=new URLSearchParams;k.append("gun_ids",g.gun_ids),k.append("ip_ids",g.ip_ids),k.append("points",g.points),k.append("policeuser_id",g.policeuser_id),k.append("stime",g.stime),k.append("etime",g.etime),k.append("type",g.type),k.append("mechanism_id",g.mechanism_id),k.append("area_alarm_name",g.area_alarm_name),k.append("IMEI",g.IMEI),k.append("sign",f),k.append("token",_),this.$axios({url:this.$store.state.baseURL+"/weixin/project/index.php?m=home&c=alarm&a=rewrite",method:"POST",changeOrigin:!0,data:k}).then(function(e){200==e.data.code&&(c.activeAreaAlarmId=e.data.data.area_alarm_id,c.setAreaTime=!1,c.polygon.hide(),c.showOneAlarmArea(c.markerArr,c.activeAreaAlarmId),c.markerArr.length=0,c.getAlarmList(),setTimeout(function(){c.$router.go(0)},2e3))}).catch(function(e){console.log(e)})}function T(){var e=this,t=this.$store.state.key,i=this.$methods.mkSign({},t),a=this.$gscookie.getCookie("gun"),n=new URLSearchParams;n.append("sign",i),n.append("token",a),this.$axios({url:this.$store.state.baseURL+"/weixin/project/index.php?m=home&c=alarm&a=area_alarms",method:"POST",changeOrigin:!0,data:n}).then(function(t){if(200==t.data.code){e.options=t.data.ltype,e.optionsStr=t.data.ltype.map(function(e){return"<option value="+e.id+">"+e.loca_name+"</option>"}),e.value=t.data.ltype[0].id,e.allAlarmAreaList=t.data.data;var i=e.allAlarmAreaList.map(function(e){return'<option value="'+e.area_alarm_id+'">'+e.area_alarm_name+"</option>"});e.allAlarmSelectStr='<option value="" disabled selected >请选择</option>'+i}}).catch(function(e){console.log(e)})}function C(e){var t=this,i={area_alarm_id:e},a=this.$store.state.key,n=this.$methods.mkSign(i,a),s=this.$gscookie.getCookie("gun"),o=new URLSearchParams;o.append("area_alarm_id",i.area_alarm_id),o.append("sign",n),o.append("token",s),this.$axios({url:this.$store.state.baseURL+"/weixin/project/index.php?m=home&c=alarm&a=area_alarm",method:"POST",changeOrigin:!0,data:o}).then(function(e){if(200==e.data.code){console.log(e);var i=e.data.data.list.state,a=t.$refs.alarmSelect.value;t.shuaXinMap(),t.showOneAreaAllMarker(e.data.data.list),t.showOneAlarmPolygon(e.data.data.list.points,a,i),t.oneAlarmPersonList=e.data.data.list.child,t.moveingPersonList=t.oneAlarmPersonList,t.oneAlarmMessage=e.data.data.arr,t.personMoveing()}}).catch(function(e){console.log(e)})}function P(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;clearInterval(this.shezhiyanse);var a=1==i?"rgba(195,13,35,0.4)":"rgba(1,221,156,0.4)";console.log("初始的颜色",a);var n=this,s=this.map,o=new AMap.Polygon({path:e,fillColor:a,borderWeight:2,strokeColor:"rgb(66,92,248)",area_alarm_id:t});o.on("rightclick",function(e){var t=new AMap.ContextMenu;t.addItem("删除该区域",function(){o.hide(),n.delOneAlarmArea(e.target.Ge.area_alarm_id),n.shuaXinMap(),n.filterMessage.uname=""},0),t.open(s,e.lnglat)}),this.polygon=o,s.add(o),this.map.setFitView(o)}function x(e){var t=this,a=i("NIoa");this.filterMessage.uname=e.policeuser_name,this.filterMessage.bianhao=e.police_number,this.filterMessage.newOrOld="old",this.filterMessage.imgSrc=e.icon;var n=e.child.map(function(e,t){var i=e.img?'<img src="'+e.img+'" />':'<img src="'+a+'" />',n=e.policeuser_name||"",s=e.icon||a,o=e.mechanism?e.mechanism.mechanism_name:"",r=e.created||"";return new AMap.Marker({content:'<div class="marker-route" >\n                <div class="cover" ></div>\n                <div class="img_wrap">\n                  '+i+"\n                </div>\n              </div>",position:[e.position.longitude,e.position.latitude],title:n,src:s,jigou:o,gtype:e.gtype,time:r,IMEI:e.IMEI,heart:e.heart,ptype:e.ptype,positions:e.gun_code,offset:new AMap.Pixel(-16,-43)})});this.markerArr=n,n.forEach(function(e){AMap.event.addListener(e,"click",function(i){t.creatInfoBox(e)})}),this.map.add(n)}function S(e){var t=this,i={area_alarm_id:e},a=this.$store.state.key,n=this.$methods.mkSign(i,a),s=this.$gscookie.getCookie("gun"),o=new URLSearchParams;o.append("area_alarm_id",i.area_alarm_id),o.append("sign",n),o.append("token",s),this.$axios({url:this.$store.state.baseURL+"/weixin/project/index.php?m=home&c=alarm&a=del",method:"POST",changeOrigin:!0,data:o}).then(function(e){200==e.data.code&&(t.$router.go(0),t.$message("删除成功"),t.getAlarmList())}).catch(function(e){console.log(e)})}function O(e){var t=this,i={IMEI:this.moveingPersonList.map(function(e){return e.IMEI}).join(),ps:99,area_id:e||"",lid:this.value},a=this.$store.state.key,n=this.$methods.mkSign(i,a),s=this.$gscookie.getCookie("gun"),o=new URLSearchParams;o.append("IMEI",i.IMEI),o.append("ps",i.ps),o.append("area_id",i.area_id),o.append("sign",n),o.append("token",s),o.append("lid",i.lid),this.$axios({url:this.$store.state.baseURL+"/weixin/project/index.php?m=home&c=position&a=positions",method:"POST",changeOrigin:!0,data:o}).then(function(e){200==e.data.code&&t.unifromSpeedMoveing(e.data.data.list)}).catch(function(e){console.log(e)})}function b(e){var t=this;this.oldPositionArr=this.markerArr.map(function(e){return{IMEI:e.Ge.IMEI,lng:e.Ge.position.lng-0,lat:e.Ge.position.lat-0}});var i=e.map(function(e){return{IMEI:e.IMEI,lng:e.longitude-0,lat:e.latitude-0}}),a=this.oldPositionArr.map(function(e){return i.find(function(t){return t.IMEI==e.IMEI})}),n=i.map(function(e,i){return l(e.lng,e.lat,t.oldPositionArr[i].lng,t.oldPositionArr[i].lat)}),s=n.map(function(e){return 360*e});console.log("距离",n,"速度",s),a.map(function(e){return[e.lng,e.lat]}).forEach(function(e,i){var a=s[i]?s[i]:10;t.markerArr[i].moveTo(e,a)}),this.oldPositionArr=i}function E(e,t){var i=this,a={mechanism_id:e,ip_id:t},n=this.$store.state.key,s=this.$methods.mkSign(a,n),o=this.$gscookie.getCookie("gun"),r=new URLSearchParams;r.append("sign",s),r.append("token",o),r.append("mechanism_id",a.mechanism_id),r.append("ip_id",a.ip_id),this.$axios({url:this.$store.state.baseURL+"/weixin/project/index.php?m=home&c=position&a=person",method:"POST",changeOrigin:!0,data:r}).then(function(e){200==e.data.code&&(console.log(e.data.data.list),i.allMechanismPersonList.push(e.data.data.list))}).catch(function(e){console.log(e)})}},zSnF:function(e,t,i){e.exports=i.p+"static/img/jizhan.7823d2a.png"}});
//# sourceMappingURL=3.cb73b60704ef03219c4b.js.map