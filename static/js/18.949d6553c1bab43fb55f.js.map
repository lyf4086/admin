{"version":3,"sources":["webpack:///src/pages/huizong/item7xq/index.vue","webpack:///./src/pages/huizong/item7xq/index.vue?6e03","webpack:///./src/pages/huizong/item7xq/index.vue"],"names":["__webpack_exports__","data","ip_id","mid","tt","t_mechanism_id","timeStart","timeEnd","dataList","mec","cou","date","methods","toPerson","item","this","$store","commit","policeuser_id","policeid","$router","push","name","subSearch","start","end","selmec","filter","e","checked","map","id","join","time","getData","$message","type","message","jigouSelect","index","move","$uList","$","timer","hover","clearInterval","setInterval","scrollHeight","height","stop","animate","marginTop","css","find","appendTo","trigger","sub","str","initEchart","box","document","getElementById","Echart","$echarts","init","res","xAxisData","seriesData","option","tooltip","axisPointer","formatter","params","tar","value","seriesName","grid","left","right","bottom","containLabel","xAxis","splitLine","show","axisLabel","interval","rotate","textStyle","color","yAxis","series","stack","label","normal","position","itemStyle","graphic","LinearGradient","offset","setOption","initEchartRight","getTypes","_this","token","$gscookie","getCookie","key","state","sign","$methods","mkSign","URLSearchParams","append","$axios","url","baseURL","method","changeOrigin","then","status","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","catch","error","console","log","_this2","objs","created","par","$route","mes","mechanism_id","timeArr","split","mounted","str1","str2","destroyed","huizong_item7xq","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","_m","directives","rawName","expression","domProps","on","input","$event","target","composing","_e","_l","class","selected","click","_s","mechanism_name","policeName","policeNum","gunType","taskType","optime","planreturntime","staticRenderFns","__vue_styles__","ssrContext","__webpack_require__","Component","normalizeComponent","item7xq"],"mappings":"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","file":"static/js/18.949d6553c1bab43fb55f.js","sourcesContent":["<template>\r\n  <div class=\"wrap\">\r\n    <!-- <div id=\"echart\" ></div> -->\r\n    <div id=\"sel\">\r\n      <i class=\"jiao\"></i>\r\n      <i class=\"jiao\"></i>\r\n      <i class=\"jiao\"></i>\r\n      <i class=\"jiao\"></i>\r\n      <div class=\"items\">\r\n        <div class=\"title\">\r\n          <span></span>\r\n          查询时间\r\n        </div>\r\n        <div class=\"sel-wrap\">\r\n          查询时间：\r\n          <input type=\"date\" v-model=\"timeStart\" />\r\n          至\r\n          <input type=\"date\" v-model=\"timeEnd\" />\r\n          <div class=\"sub\" @click=\"sub\" v-if=\"false\">查询</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"items\">\r\n        <div class=\"title\">\r\n          <span></span>\r\n          机构名称\r\n        </div>\r\n        <div class=\"jg-wrap\">\r\n          <div\r\n            class=\"item\"\r\n            :class=\"{selected:item.checked}\"\r\n            v-for=\"(item,index) in mec\"\r\n            :key=\"index\"\r\n            @click=\"jigouSelect(index)\"\r\n          >\r\n            <i></i>\r\n            {{item.mechanism_name}}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"sub-wrap\">\r\n        <div class=\"sub\" @click=\"subSearch\">确定</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"content\">\r\n      <div class=\"left\">\r\n        <div class=\"title\">出勤列表</div>\r\n        <div class=\"c\">\r\n          <div class=\"tit\">\r\n            <span>警员姓名</span>\r\n            <span>警号</span>\r\n\r\n            <span>持枪类型</span>\r\n            <span>用途</span>\r\n            <span>借出时间</span>\r\n            <span>预计归还时间</span>\r\n          </div>\r\n          <div class=\"awrap\">\r\n            <div class=\"list-new\" id=\"list-new\">\r\n              <div class=\"item\" v-for=\"(item,index) in dataList\" :key=\"index\">\r\n                <span @click=\"toPerson(item)\">{{item.policeName}}</span>\r\n                <span>{{item.policeNum}}</span>\r\n\r\n                <span>{{item.gunType}}</span>\r\n                <span>{{item.taskType}}</span>\r\n                <span>{{item.optime}}</span>\r\n                <span>{{item.planreturntime}}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"right\">\r\n        <div class=\"title\">数量统计</div>\r\n        <div id=\"chart2\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<style scoped>\r\n@import url(./index.css);\r\n</style>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      ip_id: \"\",\r\n      mid: \"\",\r\n      tt: \"\",\r\n      t_mechanism_id: \"\",\r\n      timeStart: \"\",\r\n      timeEnd: \"\",\r\n      dataList: [],\r\n      mec: [],\r\n      cou: [],\r\n      date: []\r\n    };\r\n  },\r\n  methods: {\r\n    toPerson(item){\r\n    \r\n      this.$store.commit('setPoliceId',{\r\n        policeuser_id:item.policeid\r\n      })\r\n     this.$router.push({\r\n       name:\"PersonMessage\"\r\n     })\r\n    },\r\n    subSearch() {\r\n      let start = this.timeStart;\r\n      let end = this.timeEnd;\r\n      let selmec = this.mec.filter(e => e.checked);\r\n      let mid = selmec.map(e => e.id).join();\r\n      let ip_id = selmec.map(e => e.ip_id).join();\r\n      let time = start + \",\" + end;\r\n      let t_mechanism_id = this.t_mechanism_id;\r\n      if (mid != \"\" && start != \"\" && end != \"\") {\r\n        this.getData(t_mechanism_id, mid, ip_id, time);\r\n      } else {\r\n        this.$message({\r\n          type: \"warning\",\r\n          message: \"信息不全\"\r\n        });\r\n      }\r\n    },\r\n    jigouSelect(index) {\r\n      this.mec[index].checked = !this.mec[index].checked;\r\n    },\r\n    move() {\r\n      var $uList = $(\"#list-new\");\r\n      var timer = null;\r\n      //触摸清空定时器\r\n      $uList\r\n        .hover(\r\n          function() {\r\n            clearInterval(timer);\r\n          },\r\n          function() {\r\n            //离开启动定时器\r\n            timer = setInterval(function() {\r\n              scrollList($uList);\r\n            }, 2600);\r\n          }\r\n        )\r\n        .trigger(\"mouseleave\"); //自动触发触摸事件\r\n      //滚动动画\r\n      function scrollList(obj) {\r\n        //获得当前<li>的高度\r\n        var scrollHeight = $(\"#list-new .item:first\").height();\r\n        //滚动出一个<li>的高度\r\n        $uList.stop().animate(\r\n          {\r\n            marginTop: -scrollHeight\r\n          },\r\n          700,\r\n          function() {\r\n            //动画结束后，将当前<ul>marginTop置为初始值0状态，再将第一个<li>拼接到末尾。\r\n            $uList\r\n              .css({\r\n                marginTop: 0\r\n              })\r\n              .find(\".item:first\")\r\n              .appendTo($uList);\r\n          }\r\n        );\r\n      }\r\n    },\r\n    sub() {\r\n      let str = this.timeStart + \",\" + this.timeEnd;\r\n      this.getData(str);\r\n    },\r\n    initEchart() {\r\n      let that = this;\r\n      let box = document.getElementById(\"chart2\");\r\n      let Echart = this.$echarts.init(box);\r\n      let res = {\r\n        xAxisData: this.date,\r\n        seriesData: this.cou\r\n      };\r\n      let option = {\r\n        tooltip: {\r\n          trigger: \"axis\",\r\n          axisPointer: {\r\n            // 坐标轴指示器，坐标轴触发有效\r\n            type: \"shadow\" // 默认为直线，可选为：'line' | 'shadow'\r\n          },\r\n          formatter: function(params) {\r\n            var tar = params[0];\r\n            return tar.name + \" : \" + tar.value + tar.seriesName;\r\n          }\r\n        },\r\n        grid: {\r\n          left: \"1%\",\r\n          right: \"2%\",\r\n          bottom: \"1%\",\r\n          containLabel: true\r\n        },\r\n        xAxis: {\r\n          type: \"category\",\r\n          splitLine: { show: false },\r\n          axisLabel: {\r\n            interval: 0,\r\n            rotate: 60,\r\n            textStyle: {\r\n              color: \"#fff\"\r\n            }\r\n          },\r\n          data: res.xAxisData\r\n        },\r\n        yAxis: {\r\n          name: \"\",\r\n          type: \"value\",\r\n          axisLabel: {\r\n            interval: 0,\r\n            rotate: 0,\r\n            textStyle: {\r\n              color: \"#fff\"\r\n            }\r\n          }\r\n        },\r\n        series: [\r\n          {\r\n            name: \"\",\r\n            type: \"bar\",\r\n            stack: \"总量\",\r\n            label: {\r\n              normal: {\r\n                color: \"#fff\",\r\n                show: true,\r\n                position: \"top\"\r\n              }\r\n            },\r\n            itemStyle: {\r\n              normal: {\r\n                color: new this.$echarts.graphic.LinearGradient(0, 0, 0, 1, [\r\n                  { offset: 0, color: \"#007ce1\" },\r\n                  { offset: 1, color: \"#00b782\" }\r\n                ])\r\n              }\r\n            },\r\n            data: res.seriesData\r\n          }\r\n        ]\r\n      };\r\n      Echart.setOption(option);\r\n    },\r\n    initEchartRight() {\r\n      let that = this;\r\n      let box = document.getElementById(\"chart2\");\r\n      let Echart = this.$echarts.init(box);\r\n\r\n      Echart.setOption(option);\r\n    },\r\n    getTypes() {\r\n      let objs = {};\r\n      var token = this.$gscookie.getCookie(\"gun\");\r\n      var key = this.$store.state.key;\r\n      var sign = this.$methods.mkSign(objs, key);\r\n      var params = new URLSearchParams();\r\n      params.append(\"sign\", sign);\r\n      params.append(\"token\", token);\r\n      this.$axios({\r\n        url:\r\n          this.$store.state.baseURL +\r\n          \"/weixin/project/index.php?m=Home&c=Index&a=basic\",\r\n        method: \"POST\",\r\n        changeOrigin: true,\r\n        data: params\r\n      })\r\n        .then(data => {\r\n          if (data.status == 200) {\r\n            // console.log(data);\r\n            this.mec = data.data.mec.map((item, index) => {\r\n              if (index == 0) {\r\n                return {\r\n                  ...item,\r\n                  checked: true\r\n                };\r\n              } else {\r\n                return {\r\n                  ...item,\r\n                  checked: false\r\n                };\r\n              }\r\n            });\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    getData(t_mechanism_id, mid, ip_id, time) {\r\n      let objs = {\r\n        t_mechanism_id,\r\n        mid,\r\n        ip_id,\r\n        time\r\n      };\r\n      // console.log(objs);\r\n      var token = this.$gscookie.getCookie(\"gun\");\r\n      var key = this.$store.state.key;\r\n      var sign = this.$methods.mkSign(objs, key);\r\n      var params = new URLSearchParams();\r\n      params.append(\"sign\", sign);\r\n      params.append(\"token\", token);\r\n      params.append(\"t_mechanism_id\", objs.t_mechanism_id);\r\n      params.append(\"mid\", objs.mid);\r\n      params.append(\"ip_id\", objs.ip_id);\r\n      params.append(\"time\", objs.time);\r\n      this.$axios({\r\n        url:\r\n          this.$store.state.baseURL +\r\n          \"/weixin/project/index.php?m=Home&c=Index&a=task_lit\",\r\n        method: \"POST\",\r\n        changeOrigin: true,\r\n        data: params\r\n      })\r\n        .then(data => {\r\n          if (data.status == 200) {\r\n            // console.log(data.data.data);\r\n            this.dataList = data.data.data;\r\n            this.cou = data.data.cou;\r\n            this.date = data.data.date;\r\n            this.initEchart();\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n    }\r\n  },\r\n  created() {\r\n    \r\n    let par = this.$route.params;\r\n    if(!par.mid){\r\n      this.$router.push({\r\n        name:\"HuiZong\"\r\n      })\r\n      return\r\n    }\r\n    this.getTypes();\r\n    let mes = this.$gscookie.getCookie(\"message_obj\");\r\n    this.ip_id = par.ip_id;\r\n    this.t_mechanism_id = mes.mechanism_id;\r\n    this.mid = par.mid;\r\n    this.tt = par.tt;\r\n\r\n    let timeArr = par.tt.split(\",\");\r\n    this.timeStart = timeArr[0];\r\n    this.timeEnd = timeArr[1];\r\n\r\n    // console.log(par);\r\n    this.getData(mes.mechanism_id, par.mid, par.ip_id, par.tt);\r\n  },\r\n  mounted() {\r\n    this.move();\r\n    this.$store.commit(\"setStr\", {\r\n      str1: \"出勤任务\",\r\n      str2: \"数据对比\"\r\n    });\r\n    this.initEchart();\r\n  },\r\n  destroyed() {\r\n    this.$store.commit(\"huanyuanStr\");\r\n  }\r\n};\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/pages/huizong/item7xq/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{attrs:{\"id\":\"sel\"}},[_c('i',{staticClass:\"jiao\"}),_vm._v(\" \"),_c('i',{staticClass:\"jiao\"}),_vm._v(\" \"),_c('i',{staticClass:\"jiao\"}),_vm._v(\" \"),_c('i',{staticClass:\"jiao\"}),_vm._v(\" \"),_c('div',{staticClass:\"items\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"sel-wrap\"},[_vm._v(\"\\n        查询时间：\\n        \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.timeStart),expression:\"timeStart\"}],attrs:{\"type\":\"date\"},domProps:{\"value\":(_vm.timeStart)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.timeStart=$event.target.value}}}),_vm._v(\"\\n        至\\n        \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.timeEnd),expression:\"timeEnd\"}],attrs:{\"type\":\"date\"},domProps:{\"value\":(_vm.timeEnd)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.timeEnd=$event.target.value}}}),_vm._v(\" \"),(false)?_c('div',{staticClass:\"sub\",on:{\"click\":_vm.sub}},[_vm._v(\"查询\")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"items\"},[_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"jg-wrap\"},_vm._l((_vm.mec),function(item,index){return _c('div',{key:index,staticClass:\"item\",class:{selected:item.checked},on:{\"click\":function($event){_vm.jigouSelect(index)}}},[_c('i'),_vm._v(\"\\n          \"+_vm._s(item.mechanism_name)+\"\\n        \")])}))]),_vm._v(\" \"),_c('div',{staticClass:\"sub-wrap\"},[_c('div',{staticClass:\"sub\",on:{\"click\":_vm.subSearch}},[_vm._v(\"确定\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"出勤列表\")]),_vm._v(\" \"),_c('div',{staticClass:\"c\"},[_vm._m(2),_vm._v(\" \"),_c('div',{staticClass:\"awrap\"},[_c('div',{staticClass:\"list-new\",attrs:{\"id\":\"list-new\"}},_vm._l((_vm.dataList),function(item,index){return _c('div',{key:index,staticClass:\"item\"},[_c('span',{on:{\"click\":function($event){_vm.toPerson(item)}}},[_vm._v(_vm._s(item.policeName))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.policeNum))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.gunType))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.taskType))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.optime))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.planreturntime))])])}))])])]),_vm._v(\" \"),_vm._m(3)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('span'),_vm._v(\"\\n        查询时间\\n      \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('span'),_vm._v(\"\\n        机构名称\\n      \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tit\"},[_c('span',[_vm._v(\"警员姓名\")]),_vm._v(\" \"),_c('span',[_vm._v(\"警号\")]),_vm._v(\" \"),_c('span',[_vm._v(\"持枪类型\")]),_vm._v(\" \"),_c('span',[_vm._v(\"用途\")]),_vm._v(\" \"),_c('span',[_vm._v(\"借出时间\")]),_vm._v(\" \"),_c('span',[_vm._v(\"预计归还时间\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"数量统计\")]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"chart2\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3577be37\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/huizong/item7xq/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3577be37\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3577be37\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3577be37\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/huizong/item7xq/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}