webpackJsonp([18],{E4Uc:function(t,i,e){"use strict";(function(t){var s=e("Dd8w"),a=e.n(s);i.a={data:function(){return{ip_id:"",mid:"",tt:"",t_mechanism_id:"",timeStart:"",timeEnd:"",dataList:[],mec:[],cou:[],date:[]}},methods:{toPerson:function(t){this.$store.commit("setPoliceId",{policeuser_id:t.policeid}),this.$router.push({name:"PersonMessage"})},subSearch:function(){var t=this.timeStart,i=this.timeEnd,e=this.mec.filter(function(t){return t.checked}),s=e.map(function(t){return t.id}).join(),a=e.map(function(t){return t.ip_id}).join(),n=t+","+i,c=this.t_mechanism_id;""!=s&&""!=t&&""!=i?this.getData(c,s,a,n):this.$message({type:"warning",message:"信息不全"})},jigouSelect:function(t){this.mec[t].checked=!this.mec[t].checked},move:function(){var i=t("#list-new"),e=null;i.hover(function(){clearInterval(e)},function(){e=setInterval(function(){var e;e=t("#list-new .item:first").height(),i.stop().animate({marginTop:-e},700,function(){i.css({marginTop:0}).find(".item:first").appendTo(i)})},2600)}).trigger("mouseleave")},sub:function(){var t=this.timeStart+","+this.timeEnd;this.getData(t)},initEchart:function(){var t=document.getElementById("chart2"),i=this.$echarts.init(t),e={xAxisData:this.date,seriesData:this.cou},s={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(t){var i=t[0];return i.name+" : "+i.value+i.seriesName}},grid:{left:"1%",right:"2%",bottom:"1%",containLabel:!0},xAxis:{type:"category",splitLine:{show:!1},axisLabel:{interval:0,rotate:60,textStyle:{color:"#fff"}},data:e.xAxisData},yAxis:{name:"",type:"value",axisLabel:{interval:0,rotate:0,textStyle:{color:"#fff"}}},series:[{name:"",type:"bar",stack:"总量",label:{normal:{color:"#fff",show:!0,position:"top"}},itemStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#007ce1"},{offset:1,color:"#00b782"}])}},data:e.seriesData}]};i.setOption(s)},initEchartRight:function(){var t=document.getElementById("chart2");this.$echarts.init(t).setOption(option)},getTypes:function(){var t=this,i=this.$gscookie.getCookie("gun"),e=this.$store.state.key,s=this.$methods.mkSign({},e),n=new URLSearchParams;n.append("sign",s),n.append("token",i),this.$axios({url:this.$store.state.baseURL+"/weixin/project/index.php?m=Home&c=Index&a=basic",method:"POST",changeOrigin:!0,data:n}).then(function(i){200==i.status&&(t.mec=i.data.mec.map(function(t,i){return 0==i?a()({},t,{checked:!0}):a()({},t,{checked:!1})}))}).catch(function(t){console.log(t)})},getData:function(t,i,e,s){var a=this,n={t_mechanism_id:t,mid:i,ip_id:e,time:s},c=this.$gscookie.getCookie("gun"),o=this.$store.state.key,r=this.$methods.mkSign(n,o),d=new URLSearchParams;d.append("sign",r),d.append("token",c),d.append("t_mechanism_id",n.t_mechanism_id),d.append("mid",n.mid),d.append("ip_id",n.ip_id),d.append("time",n.time),this.$axios({url:this.$store.state.baseURL+"/weixin/project/index.php?m=Home&c=Index&a=task_lit",method:"POST",changeOrigin:!0,data:d}).then(function(t){200==t.status&&(a.dataList=t.data.data,a.cou=t.data.cou,a.date=t.data.date,a.initEchart())}).catch(function(t){console.log(t)})}},created:function(){var t=this.$route.params;if(t.mid){this.getTypes();var i=this.$gscookie.getCookie("message_obj");this.ip_id=t.ip_id,this.t_mechanism_id=i.mechanism_id,this.mid=t.mid,this.tt=t.tt;var e=t.tt.split(",");this.timeStart=e[0],this.timeEnd=e[1],this.getData(i.mechanism_id,t.mid,t.ip_id,t.tt)}else this.$router.push({name:"HuiZong"})},mounted:function(){this.move(),this.$store.commit("setStr",{str1:"出勤任务",str2:"数据对比"}),this.initEchart()},destroyed:function(){this.$store.commit("huanyuanStr")}}}).call(i,e("7t+N"))},"Eof/":function(t,i){},sQYM:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("E4Uc"),a={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"wrap"},[e("div",{attrs:{id:"sel"}},[e("i",{staticClass:"jiao"}),t._v(" "),e("i",{staticClass:"jiao"}),t._v(" "),e("i",{staticClass:"jiao"}),t._v(" "),e("i",{staticClass:"jiao"}),t._v(" "),e("div",{staticClass:"items"},[t._m(0),t._v(" "),e("div",{staticClass:"sel-wrap"},[t._v("\n        查询时间：\n        "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.timeStart,expression:"timeStart"}],attrs:{type:"date"},domProps:{value:t.timeStart},on:{input:function(i){i.target.composing||(t.timeStart=i.target.value)}}}),t._v("\n        至\n        "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.timeEnd,expression:"timeEnd"}],attrs:{type:"date"},domProps:{value:t.timeEnd},on:{input:function(i){i.target.composing||(t.timeEnd=i.target.value)}}}),t._v(" "),t._e()])]),t._v(" "),e("div",{staticClass:"items"},[t._m(1),t._v(" "),e("div",{staticClass:"jg-wrap"},t._l(t.mec,function(i,s){return e("div",{key:s,staticClass:"item",class:{selected:i.checked},on:{click:function(i){t.jigouSelect(s)}}},[e("i"),t._v("\n          "+t._s(i.mechanism_name)+"\n        ")])}))]),t._v(" "),e("div",{staticClass:"sub-wrap"},[e("div",{staticClass:"sub",on:{click:t.subSearch}},[t._v("确定")])])]),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[t._v("出勤列表")]),t._v(" "),e("div",{staticClass:"c"},[t._m(2),t._v(" "),e("div",{staticClass:"awrap"},[e("div",{staticClass:"list-new",attrs:{id:"list-new"}},t._l(t.dataList,function(i,s){return e("div",{key:s,staticClass:"item"},[e("span",{on:{click:function(e){t.toPerson(i)}}},[t._v(t._s(i.policeName))]),t._v(" "),e("span",[t._v(t._s(i.policeNum))]),t._v(" "),e("span",[t._v(t._s(i.gunType))]),t._v(" "),e("span",[t._v(t._s(i.taskType))]),t._v(" "),e("span",[t._v(t._s(i.optime))]),t._v(" "),e("span",[t._v(t._s(i.planreturntime))])])}))])])]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"title"},[i("span"),this._v("\n        查询时间\n      ")])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"title"},[i("span"),this._v("\n        机构名称\n      ")])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"tit"},[e("span",[t._v("警员姓名")]),t._v(" "),e("span",[t._v("警号")]),t._v(" "),e("span",[t._v("持枪类型")]),t._v(" "),e("span",[t._v("用途")]),t._v(" "),e("span",[t._v("借出时间")]),t._v(" "),e("span",[t._v("预计归还时间")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"right"},[i("div",{staticClass:"title"},[this._v("数量统计")]),this._v(" "),i("div",{attrs:{id:"chart2"}})])}]};var n=function(t){e("Eof/")},c=e("VU/8")(s.a,a,!1,n,"data-v-3577be37",null);i.default=c.exports}});
//# sourceMappingURL=18.949d6553c1bab43fb55f.js.map